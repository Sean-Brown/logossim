{"version":3,"sources":["../webpack/bootstrap","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../../core/Simulation/mesh.js","../../core/Simulation/utils.js","../../core/Simulation/deserialize.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../core/common/prototype.js","../../core/Simulation/simulation.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_defineProperty","obj","configurable","writable","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","Array","_unsupportedIterableToArray","minLen","toString","slice","constructor","from","test","_toConsumableArray","isArray","iter","iterator","TypeError","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_defineProperties","props","descriptor","findMeshes","allLinks","findLinkById","id","find","findInputs","meshLinks","map","link","port","input","findOutputs","meshes","isBifurcation","mainLink","mesh","addRecursively","bifurcation","bifurcations","bits","links","inputs","outputs","adjustValueToBits","dataBits","allBitsSet","mask","isValueValid","every","v","isInputError","some","item","isValueFloating","getComponent","self","circuit","components","component","appendComponentDiff","output","diff","properties","getProperties","GenericComponent","methods","instance","Constructor","entries","method","this","initialize","configurations","protoProps","staticProps","ports","values","type","previous","current","errorOrFloating","asArray","fill","bit","defaultFloatingValue","defaultErrorValue","risingEdge","fallingEdge","meta","setValues","linkValue","portName","value1","value2","v1","index","Boolean","customPropertyNames","includes","JSON","parse","stringify","reduce","event","MessageEvent","data","command","emitted","dispatchEvent","frequency","waveform","audioCount","AUDIO_ID","postMessage","payload","toLowerCase","play","pause","setFrequency","freq","setWaveform","wf","deserializeMethod","model","fromEntries","stringFn","Function","deserializePort","getValue","getWireValue","deserialize","serialized","models","deserializeModels","asNumber","Error","reverse","acc","curr","transpose","x1","x2","Number","result","concat","String","padStart","char","parseBinary","arrayLength","fillWith","sanitize","chunk","RegExp","content","replace","match","parseInt","original","emitQueue","stepQueue","workInterval","addEventListener","diagram","setInputValues","setOutputValues","diffLinks","flat","diffComponents","onSimulationStart","executeNextEmitted","setInterval","onSimulationPause","clearInterval","onSimulationStop","setTimeout","firstOfCycle","firstOfSimulation","shift","emitter","portValue","getOutputPort","propagate","executeNextStep","isInputValid","step","stepError","isInputFloating","stepFloating","hasOutputChanged","meshInput","componentId","getAffectedMeshes","meshValue","allInputValues","portInfo","firstDefinedValue","Set","meshOutput","portsWithNewValue","setWireValues"],"mappings":"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","file":"SimulationWorker.cb7ae75b9bc04e913668.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://renato-bohler.github.io/logossim/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\n * A \"mesh\" is a set of links that are connected to each other.\n *\n * (if there's a better technical name for this please let me know :P)\n *\n * This function receives all links and returns every mesh found,\n * containing the id of each link that makes part of it, as well as\n * a list of all input and output ports that those links connects to.\n *\n * The implementation is basically a DFS (depth first search) executed\n * on every link on the circuit that is not a bifurcation.\n */\nconst findMeshes = allLinks => {\n  // Auxiliary functions\n  const findLinkById = id => allLinks.find(l => id === l.id);\n\n  const addRecursively = (link, mesh) => {\n    if (!link || link.id in mesh) return;\n\n    // eslint-disable-next-line no-param-reassign\n    mesh[link.id] = true;\n\n    addRecursively(findLinkById(link.bifurcation.source), mesh);\n    addRecursively(findLinkById(link.bifurcation.target), mesh);\n    link.bifurcations.forEach(bifurcation =>\n      addRecursively(findLinkById(bifurcation), mesh),\n    );\n  };\n\n  // Output ports are inputs in the mesh's perspective\n  const findInputs = meshLinks =>\n    [\n      ...meshLinks.map(link => findLinkById(link).source),\n      ...meshLinks.map(link => findLinkById(link).target),\n    ].filter(port => port && !port.input);\n\n  // Input ports are outputs in the mesh's perspective\n  const findOutputs = meshLinks =>\n    [\n      ...meshLinks.map(link => findLinkById(link).source),\n      ...meshLinks.map(link => findLinkById(link).target),\n    ].filter(port => port && port.input);\n\n  // Start with no meshes\n  const meshes = [];\n\n  // For each link that is not a bifurcation\n  allLinks\n    .filter(link => !link.isBifurcation)\n    .forEach(mainLink => {\n      // If this link is already on a mesh, there's nothing to do\n      if (meshes.find(mesh => mainLink.id in mesh)) return;\n\n      // Otherwise, create a new mesh and recursively explore it\n      const mesh = {};\n      addRecursively(mainLink, mesh, allLinks);\n      meshes.push(mesh);\n    });\n\n  return meshes\n    .map(mesh => Object.keys(mesh))\n    .map(meshLinks => ({\n      bits: findLinkById(meshLinks[0]).bits,\n      links: meshLinks,\n      inputs: findInputs(meshLinks),\n      outputs: findOutputs(meshLinks),\n    }));\n};\n\nexport default findMeshes;\n","/* eslint-disable no-restricted-globals */\nexport const MIN_VALUE = 0;\nexport const MAX_VALUE = {\n  1: 0b1,\n  2: 0b11,\n  4: 0b1111,\n  8: 0b1111_1111,\n  16: 0b1111_1111_1111_1111,\n};\n\nexport const adjustValueToBits = (value, dataBits = 1) => {\n  if (typeof value !== 'number') return value;\n\n  const allBitsSet = 0b1111_1111_1111_1111_1111_1111_1111_1111;\n  const mask = allBitsSet >>> (32 - dataBits);\n\n  return value & mask;\n};\n\nexport const isValueEqual = (value1, value2) => {\n  return value1\n    .map((v1, index) => v1 === value2[index])\n    .every(Boolean);\n};\n\nexport const isValueValid = value =>\n  value === null ||\n  (Array.isArray(value) && value.every(v => typeof v === 'number'));\n\nexport const isInputValid = input =>\n  input.every(item => isValueValid(item.value, item.bits));\n\nexport const isValueError = value =>\n  value === 'e' ||\n  (Array.isArray(value) && value.some(v => v === 'e'));\n\nexport const isInputError = input =>\n  input.some(item => isValueError(item.value));\n\nexport const isValueFloating = value =>\n  value === 'x' ||\n  (Array.isArray(value) && value.some(v => v === 'x'));\n\nexport const isInputFloating = input =>\n  input.some(item => isValueFloating(item.value));\n\nexport const getCleanDiff = () => ({\n  components: {},\n  links: {},\n});\n\nexport const getComponent = id => {\n  if (!self.circuit) return null;\n\n  return (\n    self.circuit.components.find(component => component.id === id) ||\n    null\n  );\n};\n\n/**\n * Find all meshes that are affected by an emitted change.\n */\nexport const getAffectedMeshes = emitted =>\n  self.circuit.meshes.filter(mesh =>\n    mesh.inputs.some(\n      meshInput =>\n        emitted.from.id === meshInput.componentId &&\n        Object.keys(emitted.value).includes(meshInput.name),\n    ),\n  );\n\n/**\n * Finds all components that are connected on a given mesh's Input.\n */\nexport const getMeshInputComponents = mesh =>\n  [\n    ...new Set(mesh.inputs.map(meshInput => meshInput.componentId)),\n  ].map(componentId => getComponent(componentId));\n\n/**\n * Finds all components that are connected on a given mesh's output.\n */\nexport const getMeshOutputComponents = mesh =>\n  [\n    ...new Set(\n      mesh.outputs.map(meshOutput => meshOutput.componentId),\n    ),\n  ].map(componentId => getComponent(componentId));\n\n/**\n * Determines the mesh input value.\n */\nexport const getMeshInputValue = mesh => {\n  const allInputValues = mesh.inputs\n    .map(portInfo => {\n      const component = getComponent(portInfo.componentId);\n\n      /**\n       * From the mesh's perspective, a component's output port is an\n       * input.\n       */\n      const port = component.getOutputPort(portInfo.name);\n\n      return port ? port.value : null;\n    })\n    .filter(value => value !== null);\n\n  return [...Array(allInputValues[0].length).keys()]\n    .map(index => allInputValues.map(v => v[index]))\n    .map(arr => {\n      const firstDefinedValue = arr.find(\n        value => typeof value === 'number',\n      );\n\n      const areBitsCompatible = arr.every(\n        item => item === firstDefinedValue || item === 'x',\n      );\n\n      if (!areBitsCompatible) return 'e';\n      if (typeof firstDefinedValue === 'number')\n        return firstDefinedValue;\n      return 'x';\n    });\n};\n\n/**\n * Initialize all links and ports with the floating value.\n */\nexport const initializeDiffAndValues = () => {\n  self.circuit.components.forEach(component => {\n    component.setInputValues(\n      Object.fromEntries(\n        component.ports.input.map(port => [\n          port.id,\n          new Array(port.bits || 1).fill('x'),\n        ]),\n      ),\n    );\n    component.setOutputValues(\n      Object.fromEntries(\n        component.ports.output.map(port => [\n          port.id,\n          new Array(port.bits || 1).fill('x'),\n        ]),\n      ),\n    );\n  });\n\n  const diffLinks = self.circuit.meshes\n    .map(mesh => mesh.links)\n    .flat()\n    .reduce((obj, link) => {\n      const { bits } = self.circuit.meshes.find(mesh =>\n        mesh.links.includes(link),\n      );\n\n      return { ...obj, [link]: Array(bits).fill('x') };\n    }, {});\n\n  const diffComponents = Object.fromEntries(\n    self.circuit.components.map(component => [\n      component.id,\n      {\n        output: Object.fromEntries(\n          [\n            ...component.ports.input,\n            ...component.ports.output,\n          ].map(port => [\n            port.name,\n            new Array(port.bits || 1).fill('x'),\n          ]),\n        ),\n        properties: component.getProperties(),\n      },\n    ]),\n  );\n\n  postMessage({\n    type: 'diff',\n    payload: { links: diffLinks, components: diffComponents },\n  });\n};\n\nexport const appendComponentDiff = (component, output) => {\n  if (!self.diff.components[component.id]) {\n    self.diff.components[component.id] = {\n      output: {},\n      properties: {},\n    };\n  }\n  self.diff.components[component.id] = {\n    ...self.diff.components[component.id],\n    output: output || self.diff.components[component.id].output,\n    properties: component.getProperties(),\n  };\n};\n","/**\n * SimulationWorker receives all components properties and methods\n * serialized. For that reason, we need to deserialize them before\n * executing the simulation thread.\n */\n\n/* ---------------------------------------------------------------- */\nimport findMeshes from './mesh';\nimport { isValueEqual } from './utils';\n\n/**\n * This class represents a generic component. It receives deserialized\n * properties and methods in its constructor and it's used to handle\n * simulation logic.\n */\nexport class GenericComponent {\n  constructor(properties, methods) {\n    Object.entries(properties).forEach(([key, value]) => {\n      this[key] = value;\n    });\n\n    Object.entries(methods).forEach(([name, method]) => {\n      this[name] = method.bind(this);\n    });\n\n    this.initialize(properties.configurations);\n  }\n\n  getPort(name) {\n    return [...this.ports.input, ...this.ports.output].find(\n      port => port.name === name,\n    );\n  }\n\n  getInputPort(name) {\n    return this.ports.input.find(port => port.name === name);\n  }\n\n  getOutputPort(name) {\n    return this.ports.output.find(port => port.name === name);\n  }\n\n  setValues(values, type) {\n    this.ports[type] = this.ports[type].map(port => {\n      const previous = port.value;\n\n      let current = previous;\n      let errorOrFloating = false;\n\n      if (values[port.name] !== undefined) {\n        current = values[port.name];\n        if (typeof current === 'number') {\n          current = values[port.name].asArray(port.bits);\n        } else if (current === 'x' || current === 'e') {\n          current = Array(port.bits).fill(current);\n          errorOrFloating = true;\n        } else if (!Array.isArray(current)) {\n          errorOrFloating = true;\n        }\n      }\n\n      current = current.map(bit => {\n        if (bit === 'x') return port.defaultFloatingValue ?? 'x';\n        if (bit === 'e') return port.defaultErrorValue ?? 'e';\n        return bit;\n      });\n\n      if (previous.some(bit => bit === 'x' || bit === 'e')) {\n        errorOrFloating = true;\n      }\n\n      const risingEdge = !errorOrFloating && previous < current;\n      const fallingEdge = !errorOrFloating && previous > current;\n\n      return {\n        ...port,\n        value: current,\n        meta: {\n          previous,\n          risingEdge,\n          fallingEdge,\n        },\n      };\n    });\n  }\n\n  setInputValues(values) {\n    this.setValues(values, 'input');\n  }\n\n  setOutputValues(values) {\n    this.setValues(values, 'output');\n  }\n\n  setWireValues(values) {\n    this.ports.output = this.ports.output.map(port => {\n      if (!values[port.name]) return port;\n\n      return {\n        ...port,\n        linkValue: values[port.name],\n      };\n    });\n  }\n\n  hasOutputChanged(values) {\n    return !Object.keys(values).every(portName =>\n      isValueEqual(\n        values[portName],\n        this.ports.output.find(output => output.name === portName)\n          .value,\n      ),\n    );\n  }\n\n  getProperties() {\n    const customPropertyNames = Object.keys(this).filter(\n      key =>\n        !['id', 'initialize', 'configurations', 'ports'].includes(\n          key,\n        ),\n    );\n\n    return JSON.parse(\n      JSON.stringify(\n        customPropertyNames\n          .filter(property => typeof this[property] !== 'function')\n          .reduce(\n            (obj, property) => ({\n              ...obj,\n              [property]: this[property],\n            }),\n            {},\n          ),\n      ),\n    );\n  }\n\n  // Defaults\n  onSimulationStart() {}\n\n  onSimulationPause() {}\n\n  onSimulationStop() {}\n\n  step() {\n    return {};\n  }\n\n  stepError() {\n    return this.ports.output.reduce(\n      (obj, port) => ({\n        ...obj,\n        [port.name]: Array(port.bits).fill('e'),\n      }),\n      {},\n    );\n  }\n\n  stepFloating() {\n    return this.ports.output.reduce(\n      (obj, port) => ({\n        ...obj,\n        [port.name]: Array(port.bits).fill('x'),\n      }),\n      {},\n    );\n  }\n\n  emit(value) {\n    const event = new MessageEvent('message', {\n      data: {\n        command: 'emit',\n        emitted: { from: this.id, value },\n      },\n    });\n\n    // eslint-disable-next-line no-restricted-globals\n    self.dispatchEvent(event);\n  }\n\n  // Diagram stubs\n  addInputPort() {}\n\n  addOutputPort() {}\n\n  removePort() {}\n\n  // Functionality that requires calling main thread\n  createAudio(frequency, waveform) {\n    if (!this.audioCount) {\n      this.audioCount = 0;\n    }\n\n    const AUDIO_ID = `${this.audioCount}-${this.id}`;\n    this.audioCount += 1;\n\n    postMessage({\n      type: 'audio',\n      payload: {\n        command: 'create',\n        id: AUDIO_ID,\n        frequency,\n        waveform: waveform.toLowerCase(),\n      },\n    });\n\n    const play = () =>\n      postMessage({\n        type: 'audio',\n        payload: {\n          command: 'play',\n          id: AUDIO_ID,\n        },\n      });\n\n    const pause = () =>\n      postMessage({\n        type: 'audio',\n        payload: { command: 'pause', id: AUDIO_ID },\n      });\n\n    const setFrequency = freq =>\n      postMessage({\n        type: 'audio',\n        payload: {\n          command: 'setFrequency',\n          id: AUDIO_ID,\n          frequency: freq,\n        },\n      });\n\n    const setWaveform = wf =>\n      postMessage({\n        type: 'audio',\n        payload: {\n          command: 'setWaveform',\n          id: AUDIO_ID,\n          waveform: wf,\n        },\n      });\n\n    return {\n      play,\n      pause,\n      setFrequency,\n      setWaveform,\n    };\n  }\n}\n\n/**\n * Converts string representing functions to actual functions in given\n * model.\n */\nconst deserializeMethod = model =>\n  Object.fromEntries(\n    Object.entries(model.methods).map(([key, stringFn]) => {\n      return [\n        key,\n        // eslint-disable-next-line no-new-func\n        new Function(`return function ${stringFn}`)(),\n      ];\n    }),\n  );\n\nconst deserializeModels = models =>\n  models\n    .map(model => ({\n      ...model,\n      methods: deserializeMethod(model),\n    }))\n    .reduce(\n      (obj, model) => ({\n        ...obj,\n        [model.type]: model.methods,\n      }),\n      {},\n    );\n\nconst deserializePort = port => ({\n  ...port,\n  value: new Array(port.bits || 1).fill(port.defaultFloatingValue),\n  linkValue: new Array(port.bits || 1).fill(\n    port.defaultFloatingValue,\n  ),\n  getValue() {\n    return this.value;\n  },\n  getWireValue() {\n    return this.linkValue;\n  },\n});\n\n/**\n * Deserialize a given diagram (serialized), generating\n * `GenericComponent` instances with its given methods and properties.\n */\nconst deserialize = serialized => {\n  const models = deserializeModels(serialized.models);\n\n  return {\n    components: serialized.components.map(\n      component =>\n        new GenericComponent(\n          {\n            ...component.properties,\n            id: component.id,\n            configurations: component.configurations,\n            ports: {\n              input: component.ports\n                .filter(port => port.input)\n                .map(deserializePort),\n              output: component.ports\n                .filter(port => !port.input)\n                .map(deserializePort),\n            },\n          },\n          models[component.type],\n        ),\n    ),\n    meshes: findMeshes(serialized.links),\n  };\n};\n\nexport default deserialize;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","/* eslint-disable no-extend-native */\nArray.prototype.asArray = function arrayAsArray() {\n  return this;\n};\n\nArray.prototype.asNumber = function arrayAsNumber() {\n  if (this.some(bit => bit === 'e')) return 'e';\n  if (this.some(bit => bit === 'x')) return 'x';\n\n  if (this.some(bit => bit !== 0 && bit !== 1))\n    throw new Error(\n      '[logossim] Array cannot be converted to number because it contains invalid values',\n    );\n\n  return this.slice()\n    .reverse()\n    .reduce((acc, curr, index) => acc + curr * 2 ** index, 0);\n};\n\nArray.prototype.transpose = function transpose() {\n  return this[0].map((x1, i) => this.map(x2 => x2[i]));\n};\n\nNumber.prototype.asNumber = function numberAsNumber() {\n  return Number(this);\n};\n\nNumber.prototype.asArray = function numberAsArray(dataBits) {\n  if (!dataBits)\n    throw new Error(\n      '[logossim] To transform a number to array, you need to pass as argument the length of the array',\n    );\n\n  const result = [...this.toString(2)].map(Number);\n\n  return Array(dataBits)\n    .fill(0)\n    .concat(result)\n    .slice(result.length);\n};\n\nString.prototype.asArray = function stringAsArray(dataBits) {\n  if (!dataBits)\n    throw new Error(\n      '[logossim] To transform a number to array, you need to pass as argument the length of the array',\n    );\n\n  return [...this.padStart(dataBits, 0)].map(char => {\n    if (char === '0') return 0;\n    if (char === '1') return 1;\n    return char;\n  });\n};\n\nString.prototype.parseBinary = function parseBinary(\n  dataBits,\n  arrayLength,\n  fillWith = 0,\n) {\n  if (!dataBits)\n    throw new Error(\n      '[logossim] To parse a binary, you need to pass the value length in bits as first argument.',\n    );\n\n  if (!arrayLength)\n    throw new Error(\n      '[logossim] To parse a binary, you need to pass the result array length as second argument.',\n    );\n\n  const sanitize = /[^01]/g;\n  const chunk = new RegExp(`.{1,${dataBits}}`, 'g');\n\n  const content = (\n    this.replace(sanitize, '').match(chunk) || []\n  ).map(value => parseInt(value, 2));\n\n  return Array(arrayLength)\n    .fill(fillWith)\n    .map((original, i) => {\n      const value = content[i];\n      if (!value) return original;\n      return value;\n    });\n};\n","/**\n * This code runs the simulation workload on a Web Worker thread, to\n * avoid blocking the UI (main) thread.\n *\n * Whenever a component executes `emit`, its changes are pushed to\n * `emitQueue`, which will be handled by the `executeNextEmitted`\n * function.\n *\n * Every component that is affected by this emitted event is pushed to\n * the `stepQueue`, which will be handled recursively by the\n * `executeNextStep` function.\n */\n\n/* ---------------------------------------------------------------- */\n\n/* eslint-disable no-restricted-globals */\n/* eslint-disable no-use-before-define */\nimport deserialize from './deserialize';\nimport {\n  getCleanDiff,\n  appendComponentDiff,\n  initializeDiffAndValues,\n  isInputValid,\n  isValueValid,\n  getComponent,\n  getAffectedMeshes,\n  getMeshInputValue,\n  getMeshInputComponents,\n  getMeshOutputComponents,\n  adjustValueToBits,\n  isValueFloating,\n  isInputError,\n  isInputFloating,\n} from './utils';\n\nimport '../common/prototype';\n\n/**\n * Worker states\n */\nself.circuit = null; // circuit information\nself.diff = null; // diff to send back to the app\nself.emitQueue = []; // emitted changes that are pending\nself.stepQueue = []; // components that are pending propagation\nself.workInterval = null; // main execution interval\n\n/**\n * Worker message handling\n */\nself.addEventListener(\n  'message',\n  ({ data: { command, diagram, emitted } }) => {\n    switch (command) {\n      /**\n       * START\n       */\n      case 'start':\n        if (diagram !== undefined) {\n          self.circuit = deserialize(diagram);\n          self.diff = getCleanDiff();\n          initializeDiffAndValues();\n        }\n\n        self.circuit.components.forEach(component =>\n          component.onSimulationStart(),\n        );\n\n        // Main workload\n        executeNextEmitted(true, true);\n        self.workInterval = setInterval(executeNextEmitted);\n        break;\n\n      /**\n       * PAUSE\n       */\n      case 'pause':\n        self.circuit.components.forEach(component =>\n          component.onSimulationPause(),\n        );\n        clearInterval(self.workInterval);\n        break;\n\n      /**\n       * STOP\n       */\n      case 'stop':\n        self.circuit.components.forEach(component =>\n          component.onSimulationStop(),\n        );\n        clearInterval(self.workInterval);\n        setTimeout(() => {\n          postMessage({ type: 'clear' });\n          self.circuit = null;\n          self.diff = null;\n          self.emitQueue = [];\n          self.stepQueue = [];\n        });\n        break;\n\n      /**\n       * EMIT\n       */\n      case 'emit':\n        if (self.circuit)\n          self.emitQueue.push({\n            ...emitted,\n            from: getComponent(emitted.from),\n          });\n        break;\n\n      default:\n        break;\n    }\n  },\n);\n\n/**\n * Handles the next emitted event on the emit queue and propagates it.\n */\nconst executeNextEmitted = (\n  firstOfCycle = true,\n  firstOfSimulation = false,\n) => {\n  if (!self.circuit) return;\n\n  const emitted = self.emitQueue.shift();\n  if (!emitted) return;\n\n  const emitter = emitted.from;\n\n  emitted.value = Object.fromEntries(\n    Object.entries(emitted.value).map(([portName, portValue]) => {\n      if (isValueFloating(portValue)) return [portName, portValue];\n\n      const { bits } = emitter.getOutputPort(portName);\n      let value = portValue;\n      if (typeof value === 'number') {\n        value = adjustValueToBits(portValue, bits).asArray(bits);\n      } else if (value === 'x' || value === 'e') {\n        value = Array(bits).fill(value);\n      }\n\n      return [\n        portName,\n        isValueValid(value, bits) ? value : Array(bits).fill('e'),\n      ];\n    }),\n  );\n  emitter.setOutputValues(emitted.value);\n\n  appendComponentDiff(emitter, emitted.value);\n  propagate(emitted);\n  executeNextStep(firstOfSimulation);\n\n  executeNextEmitted(false);\n\n  if (firstOfCycle) {\n    postMessage({ type: 'diff', payload: self.diff });\n    self.diff = getCleanDiff();\n  }\n};\n\n/**\n * Executes a step on the next component affected by the emitted\n * change that is being currently handled. Propagates this component's\n * change forward.\n */\nconst executeNextStep = (firstOfSimulation = false) => {\n  const component = self.stepQueue.shift();\n  if (!component) return;\n\n  const input = component.ports.input.reduce(\n    (obj, port) => ({ ...obj, [port.name]: port.value }),\n    {},\n  );\n  const meta = component.ports.input.reduce(\n    (obj, port) => ({ ...obj, [port.name]: port.meta }),\n    {},\n  );\n\n  let result = {};\n  if (isInputValid(component.ports.input)) {\n    result = component.step(\n      Object.fromEntries(\n        Object.entries(input).map(([key, value]) => [\n          key,\n          value.asNumber(),\n        ]),\n      ),\n      meta,\n    );\n  } else if (isInputError(component.ports.input)) {\n    result = component.stepError(input, meta);\n  } else if (isInputFloating(component.ports.input)) {\n    result = component.stepFloating(input, meta);\n  } else {\n    result = component.stepError(input, meta);\n  }\n\n  if (!result) {\n    appendComponentDiff(component);\n    executeNextStep();\n    return;\n  }\n\n  result = Object.fromEntries(\n    Object.entries(result || {}).map(([portName, portValue]) => {\n      const { bits } = component.getOutputPort(portName);\n      let value = portValue;\n      if (typeof value === 'number') {\n        value = adjustValueToBits(portValue, bits).asArray(bits);\n      } else if (value === 'x' || value === 'e') {\n        value = Array(bits).fill(value);\n      }\n      return [portName, value];\n    }),\n  );\n\n  const output = Object.fromEntries(\n    Object.entries(result).filter(([portName]) =>\n      component.getOutputPort(portName),\n    ),\n  );\n\n  if (firstOfSimulation || component.hasOutputChanged(output)) {\n    component.setOutputValues(output);\n    appendComponentDiff(component, output);\n    propagate({ from: component, value: output });\n  } else {\n    appendComponentDiff(component);\n  }\n\n  executeNextStep();\n};\n\n/**\n * Propagates a change on a component to all components connected to\n * its output.\n */\nconst propagate = emitted => {\n  const affectedMeshes = getAffectedMeshes(emitted);\n  affectedMeshes.forEach(mesh => {\n    const meshValue = getMeshInputValue(mesh);\n    mesh.links.forEach(link => {\n      self.diff.links[link] = meshValue;\n    });\n\n    const componentsOutput = getMeshOutputComponents(mesh);\n    componentsOutput.forEach(component => {\n      const portsConnectedToMesh = mesh.outputs\n        .filter(meshOutput => meshOutput.componentId === component.id)\n        .map(meshOutput => meshOutput.name);\n\n      const portsWithNewValue = portsConnectedToMesh.reduce(\n        (obj, portName) => ({ ...obj, [portName]: meshValue }),\n        {},\n      );\n\n      component.setInputValues(portsWithNewValue);\n\n      appendComponentDiff(component, portsWithNewValue);\n\n      self.stepQueue.push(component);\n    });\n\n    const componentsInput = getMeshInputComponents(mesh);\n    componentsInput.forEach(component => {\n      const portsConnectedToMesh = mesh.inputs\n        .filter(meshInput => meshInput.componentId === component.id)\n        .map(meshInput => meshInput.name);\n\n      const portsWithNewValue = portsConnectedToMesh.reduce(\n        (obj, portName) => ({ ...obj, [portName]: meshValue }),\n        {},\n      );\n\n      component.setWireValues(portsWithNewValue);\n    });\n  });\n};\n"],"sourceRoot":""}