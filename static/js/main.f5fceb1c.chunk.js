(this["webpackJsonp@logossim/page"]=this["webpackJsonp@logossim/page"]||[]).push([[0],{261:function(e,t,n){e.exports=function(){return new Worker(n.p+"SimulationWorker.cb7ae75b9bc04e913668.js")}},267:function(e){e.exports=JSON.parse('{"a":"0.0.1"}')},271:function(e,t,n){e.exports=n.p+"static/media/bifurcation.e3ec32b9.gif"},272:function(e,t,n){e.exports=n.p+"static/media/context-menu.94343183.gif"},273:function(e,t,n){e.exports=n.p+"static/media/simulation.2d0f910c.gif"},274:function(e,t,n){e.exports=n.p+"static/media/wire.e7e521da.gif"},277:function(e,t,n){e.exports=n(527)},526:function(e,t,n){},527:function(e,t,n){"use strict";n.r(t);var i,a,r,o=n(0),l=n.n(o),c=n(32),s=n.n(c),u=n(6),d=n(23),p=n(30),f=n.n(p),m=n(57),h=n(10),g=n(14),b=n(12),v=n(11),y=n(56),E=n(13),x=n(17),k=n(15),O=n(16),w=n(27),P=n.n(w),j=n(39),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e instanceof O.Point?new O.Point(Math.round(e.x/t)*t,Math.round(e.y/t)*t):Math.round(e/t)*t},C=function(e,t){return e&&t&&Math.round(e.x)===Math.round(t.x)&&Math.round(e.y)===Math.round(t.y)},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return Math.round(e.x)})).every((function(e,t,n){return e===n[0]}))},T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return Math.round(e.y)})).every((function(e,t,n){return e===n[0]}))},B=function(){return A.apply(void 0,arguments)||T.apply(void 0,arguments)},L=function(e,t){var n=function(e,t){return Math.hypot(e.x-t.x,e.y-t.y)},i=function(e,t){var i=t.A,a=t.B,r=new O.Point(a.x-i.x,a.y-i.y),o=new O.Point(i.x-e.x,i.y-e.y),l=-(r.x*o.x+r.y*o.y)/(Math.pow(r.x,2)+Math.pow(r.y,2));if(l>=0&&l<=1){var c=new O.Point((1-l)*i.x+l*a.x,(1-l)*i.y+l*a.y);return{point:c,distance:n(e,c)}}var s=n(e,i),u=n(e,a);return s<=u?{point:i,distance:s}:{point:a,distance:u}};if(!t.hasMiddlePoint())return i(e,{A:t.getFirstPosition(),B:t.getLastPosition()}).point;var a=i(e,{A:t.getFirstPosition(),B:t.getMiddlePosition()}),r=i(e,{A:t.getMiddlePosition(),B:t.getLastPosition()});return a.distance<=r.distance?a.point:r.point},M=function(e,t){var n=t.A,i=t.B;if(A(n,e,i)){var a=Math.max(n.y,i.y);return Math.min(n.y,i.y)<=e.y&&e.y<=a}if(T(n,e,i)){var r=Math.max(n.x,i.x);return Math.min(n.x,i.x)<=e.x&&e.x<=r}return!1},I=function(e,t){return function(e,t){return M(e,{A:t.getFirstPosition(),B:t.getSecondPosition()})}(e,t)||function(e,t){return!!t.hasMiddlePoint()&&M(e,{A:t.getSecondPosition(),B:t.getLastPosition()})}(e,t)},N=function(e,t){var n=e.getLastPoint().getPosition();return Object.values(t.getModel().getLinkLayers()[0].getLinks()).find((function(t){return t.getID()!==e.getID()&&I(n,t)}))},D=function(e,t){return"Incompatible bit widths!\n\nSource: ".concat(e.getBits()," bit").concat(e.getBits()>1?"s":"","\n\nTarget: ").concat(t.getBits()," bit").concat(t.getBits()>1?"s":"")},z=n(43),R={1:1,2:3,4:15,8:255,16:65535},F=function(e){return null===e||Array.isArray(e)&&e.every((function(e){return"number"===typeof e}))},_=function(e){return"e"===e||Array.isArray(e)&&e.some((function(e){return"e"===e}))},H=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,Object(u.a)({type:"link"},e))).bifurcations=[],i.bifurcationSource=null,i.bifurcationTarget=null,i.value=null,i.bits=null,i}return Object(g.a)(n,[{key:"getGridSize",value:function(){return this.getParent().getParent().getOptions().gridSize}},{key:"addLabel",value:function(e){if(e instanceof w.LabelModel)return Object(x.a)(Object(k.a)(n.prototype),"addLabel",this).call(this,e);var t=new j.DefaultLabelModel;return t.setLabel(e),Object(x.a)(Object(k.a)(n.prototype),"addLabel",this).call(this,t)}},{key:"setBifurcationSource",value:function(e){this.bifurcationSource=e}},{key:"getBifurcationSource",value:function(){return this.bifurcationSource}},{key:"setBifurcationTarget",value:function(e){this.bifurcationTarget=e}},{key:"getBifurcationTarget",value:function(){return this.bifurcationTarget}},{key:"isBifurcation",value:function(){return!(!this.getBifurcationSource()&&!this.getBifurcationTarget())}},{key:"addBifurcation",value:function(e){this.bifurcations.find((function(t){return t.getID()===e.getID()}))||this.bifurcations.push(e)}},{key:"removeBifurcation",value:function(e){this.bifurcations=this.bifurcations.filter((function(t){return t.getID()!==e.getID()}))}},{key:"getBifurcations",value:function(){return this.bifurcations}},{key:"getAllBifurcations",value:function(){var e=Object(E.a)(this.bifurcations);return this.bifurcations.forEach((function(t){return e.push(t.getAllBifurcations())})),e.flat(1/0)}},{key:"getSelectionEntities",value:function(){return[].concat(Object(E.a)(Object(x.a)(Object(k.a)(n.prototype),"getSelectionEntities",this).call(this)),Object(E.a)(this.bifurcations))}},{key:"setSelected",value:function(e){Object(x.a)(Object(k.a)(n.prototype),"setSelected",this).call(this,e),this.bifurcations.forEach((function(t){return t.setSelected(e)})),this.getSourcePort()&&this.getSourcePort().setSelected(e),this.getTargetPort()&&this.getTargetPort().setSelected(e)}},{key:"remove",value:function(){this.bifurcations.forEach((function(e){return e.remove()})),this.bifurcationSource&&this.bifurcationSource.removeBifurcation(this),this.bifurcationTarget&&this.bifurcationTarget.removeBifurcation(this),Object(x.a)(Object(k.a)(n.prototype),"remove",this).call(this)}},{key:"serialize",value:function(){return Object(u.a)(Object(u.a)({},Object(x.a)(Object(k.a)(n.prototype),"serialize",this).call(this)),{},{bifurcations:this.bifurcations.map((function(e){return e.getID()})),bifurcationSource:this.bifurcationSource?this.bifurcationSource.getID():null,bifurcationTarget:this.bifurcationTarget?this.bifurcationTarget.getID():null,value:this.value,bits:this.bits})}},{key:"deserialize",value:function(e){var t=this;Object(x.a)(Object(k.a)(n.prototype),"deserialize",this).call(this,e);var i=e.getModel,a=e.registerModel,r=e.data,o=r.bifurcationSource,l=r.bifurcationTarget,c=r.bifurcations,s=r.bits;a(this),requestAnimationFrame((function(){t.bits=s,t.points=e.data.points.map((function(e){return new w.PointModel({link:t,position:new O.Point(e.x,e.y)})})),c.forEach((function(e){return i(e).then((function(e){return t.addBifurcation(e)}))})),o&&i(o).then((function(e){return t.setBifurcationSource(e)})),l&&i(l).then((function(e){return t.setBifurcationTarget(e)})),e.engine.repaintCanvas()}))}},{key:"addPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(x.a)(Object(k.a)(n.prototype),"addPoint",this).call(this,e,t),e}},{key:"generatePoint",value:function(e,t){var i=Object(x.a)(Object(k.a)(n.prototype),"generatePoint",this).call(this,e,t);return i.setPosition(S(e,this.getGridSize()),S(t,this.getGridSize())),i}},{key:"getMiddlePoint",value:function(){return this.hasMiddlePoint()?this.getPoints()[1]:null}},{key:"getSecondPoint",value:function(){return this.getPoints()[1]}},{key:"getSecondLastPoint",value:function(){var e=this.getPoints();return e[e.length-2]}},{key:"getFirstPosition",value:function(){return S(this.getFirstPoint().getPosition(),this.getGridSize())}},{key:"getSecondPosition",value:function(){return S(this.getSecondPoint().getPosition(),this.getGridSize())}},{key:"getMiddlePosition",value:function(){return this.hasMiddlePoint()?S(this.getMiddlePoint().getPosition(),this.getGridSize()):null}},{key:"getSecondLastPosition",value:function(){return S(this.getSecondLastPoint().getPosition(),this.getGridSize())}},{key:"getLastPosition",value:function(){return S(this.getLastPoint().getPosition(),this.getGridSize())}},{key:"hasMiddlePoint",value:function(){return 3===this.getPoints().length}},{key:"isStraight",value:function(){if(!this.hasMiddlePoint())return!0;var e=this.getFirstPosition(),t=this.getMiddlePosition(),n=this.getLastPosition();return!!B(e,t,n)}},{key:"getBits",value:function(){return this.bits}},{key:"setBits",value:function(e){if(![1,2,4,8,16].includes(e))throw new Error("[logossim] Number of bits should be one of: 1, 2, 4, 8 or 16");this.bits=e}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"getColor",value:function(){return this.isSelected()?"var(--link-selected)":F(this.value,this.bits)?null===this.value?"var(--link-".concat(this.bits||1,"-bit-color)"):"var(--value-".concat(Math.round(this.value.asNumber()/R[this.bits]*10),")"):_(this.value)?"var(--value-error)":"var(--value-floating)"}},{key:"getLineWidth",value:function(){return"var(--link-".concat(this.bits||1,"-bit-width)")}},{key:"getPointRadius",value:function(){return getComputedStyle(document.body).getPropertyValue("--link-".concat(this.bits||1,"-bit-join-radius"))}}]),n}(w.LinkModel),W=function(e,t,n){if(0!==e&&1!==e&&"x"!==e&&"e"!==e)throw new Error("[logossim] Invalid default ".concat(t," value provided for port `").concat(n,"`. Should be either 0, 1, 'x' or 'e'."))},U=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,n),(e=t.call(this,Object(u.a)({type:"Port",maximumLinks:1},i))).value=null,e.input=null,e.bits=null,e.defaultFloatingValue=null,e.defaultErrorValue=null,e}return Object(g.a)(n,[{key:"serialize",value:function(){return Object(u.a)(Object(u.a)({},Object(x.a)(Object(k.a)(n.prototype),"serialize",this).call(this)),{},{input:this.input,value:this.value,bits:this.bits,defaultFloatingValue:this.defaultFloatingValue,defaultErrorValue:this.defaultErrorValue})}},{key:"deserialize",value:function(e,t){Object(x.a)(Object(k.a)(n.prototype),"deserialize",this).call(this,e,t),this.value=e.data.value,this.input=e.data.input,this.bits=e.data.bits,this.defaultFloatingValue=e.data.defaultFloatingValue,this.defaultErrorValue=e.data.defaultErrorValue}},{key:"setAsInput",value:function(){this.input=!0}},{key:"setAsOutput",value:function(){this.input=!1}},{key:"isInput",value:function(){return!0===this.input}},{key:"isOutput",value:function(){return!1===this.input}},{key:"getBits",value:function(){return this.bits}},{key:"setBits",value:function(e){if(![1,2,4,8,16].includes(e))throw new Error("[logossim] Number of bits should be one of: 1, 2, 4, 8 or 16");this.bits=e}},{key:"setDefaultFloatingValue",value:function(e){W(e,"floating",this.getName()),this.defaultFloatingValue=e}},{key:"getDefaultFloatingValue",value:function(){return this.defaultFloatingValue}},{key:"setDefaultErrorValue",value:function(e){W(e,"error",this.getName()),this.defaultErrorValue=e}},{key:"getDefaultErrorValue",value:function(){return this.defaultErrorValue}},{key:"getValue",value:function(){var e=this;return null===this.value?Array(this.bits).fill(0):this.value.map((function(t){return"x"===t?e.getDefaultFloatingValue():"e"===t?e.getDefaultErrorValue():t}))}},{key:"setValue",value:function(e){this.value=e}},{key:"isNewLinkAllowed",value:function(){return Object.keys(this.getLinks()).length<this.getMaximumLinks()}},{key:"canLinkToPort",value:function(e){return e.isNewLinkAllowed()&&this.getID()!==e.getID()}},{key:"createLinkModel",value:function(){if(this.isNewLinkAllowed()){var e=new H;return e.setBits(this.bits),e}return null}},{key:"getMainLink",value:function(){var e=Object.values(this.getLinks());return e.length>0?e[0]:null}},{key:"getColor",value:function(){var e=this.getMainLink();return e?e.getColor():"var(--port-unconnected)"}}]),n}(w.PortModel),V=function(){function e(){Object(h.a)(this,e),this.context=new AudioContext,this.destination=this.context.destination,this.audios={}}return Object(g.a)(e,[{key:"create",value:function(e){var t=e.id,n=e.frequency,i=void 0===n?1e3:n,a=e.waveform,r=void 0===a?"sine":a,o=this.context.createGain();o.gain.value=.5;var l=this.context.createOscillator();l.type=r,l.frequency.value=i,l.connect(o),l.start(),this.audios[t]={gainNode:o,oscillator:l}}},{key:"play",value:function(e){var t=e.id;try{this.getGainNode(t).connect(this.destination)}catch(n){}}},{key:"pause",value:function(e){var t=e.id;try{this.getGainNode(t).disconnect(this.destination)}catch(n){}}},{key:"setFrequency",value:function(e){var t=e.id,n=e.frequency;this.getOscillator(t).frequency.value=n}},{key:"setWaveform",value:function(e){var t=e.id,n=e.waveform;this.getOscillator(t).type=n}},{key:"handlePayload",value:function(e){switch(e.command){case"create":this.create(e);break;case"play":this.play(e);break;case"pause":this.pause(e);break;case"setFrequency":this.setFrequency(e);break;case"setWaveform":this.setWaveform(e)}}},{key:"getOscillator",value:function(e){return this.getAudio(e).oscillator}},{key:"getGainNode",value:function(e){return this.getAudio(e).gainNode}},{key:"getAudio",value:function(e){var t=this.audios[e];if(!t)throw new Error("[logossim] Audio with id ".concat(e," was not found."));return t}},{key:"cleanUp",value:function(){Object.values(this.audios).forEach((function(e){return e.oscillator.stop()})),this.audios=[]}}]),e}(),Y=function(e){return e.map((function(e){return{id:e.getID(),type:e.getType(),configurations:e.configurations,ports:(n=e.ports,Object.values(n).map((function(e){return{id:e.getID(),name:e.getName(),input:e.isInput(),bits:e.getBits(),defaultFloatingValue:e.getDefaultFloatingValue(),defaultErrorValue:e.getDefaultErrorValue()}}))),properties:(t=e,Object.keys(t).filter((function(e){return!["listeners","options","position","ports","width","height","configurations","parent"].includes(e)}))).reduce((function(t,n){return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},n,e[n]))}),{})};var t,n}))},X=function(e){return e?{componentId:e.getParent().getID(),name:e.getName(),input:e.isInput()}:null},K=function(e){return e?e.getID():null},Z=function(e,t){return{models:(i=t,i.map((function(e){var t,n=e.type,i=e.Model;return{type:n,methods:(t=i,Object.getOwnPropertyNames(t.prototype).filter((function(e){return!["constructor"].includes(e)}))).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(z.a)({},t,i.prototype[t].toString()))}),{})}}))),links:(n=Object.values(e.getActiveLinkLayer().getModels()),n.map((function(e){return{id:e.getID(),source:X(e.getSourcePort()),target:X(e.getTargetPort()),bifurcations:e.getBifurcations().map((function(e){return e.getID()})),bifurcation:{source:K(e.getBifurcationSource()),target:K(e.getBifurcationTarget())},isBifurcation:e.isBifurcation(),bits:e.getBits()}}))),components:Y(Object.values(e.getActiveNodeLayer().getModels()))};var n,i},G=n(261),q=new(n.n(G).a),J=function(){function e(t){var n=this;Object(h.a)(this,e),this.onSimulationMessage=function(e){var t=e.data,i=t.type,a=t.payload;"diff"===i&&n.appendDiff(a),"audio"===i&&n.audioEngine.handlePayload(a),"clear"===i&&n.audioEngine.cleanUp()},this.components=t,this.worker=q,this.worker.addEventListener("message",this.onSimulationMessage),this.audioEngine=new V,this.state="stopped",this.clearDiff()}return Object(g.a)(e,[{key:"start",value:function(e){this.worker.postMessage({command:"start",diagram:"stopped"===this.state?Z(e,this.components):void 0}),this.state="started"}},{key:"pause",value:function(){this.worker.postMessage({command:"pause"}),this.state="paused"}},{key:"stop",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.worker.addEventListener("message",(function n(i){"clear"===i.data.type&&(t.worker.removeEventListener("message",n),t.state="stopped",e())})),t.worker.postMessage({command:"stop"})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){return this.state}},{key:"isRunning",value:function(){return"started"===this.state}},{key:"isPaused",value:function(){return"paused"===this.state}},{key:"isStopped",value:function(){return"stopped"===this.state}},{key:"getDiff",value:function(){return this.diff}},{key:"clearDiff",value:function(){this.diff={components:{},links:{}}}},{key:"appendDiff",value:function(e){this.diff={components:Object(u.a)(Object(u.a)({},this.diff.components),e.components),links:Object(u.a)(Object(u.a)({},this.diff.links),e.links)}}}]),e}(),Q=function(e){return e instanceof U?e:new U({name:e})},$=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";return Object(h.a)(this,n),(e=t.call(this,{type:a})).initialize(i),e.configurations=i,e}return Object(g.a)(n,[{key:"serialize",value:function(){return Object(u.a)(Object(u.a)({},Object(x.a)(Object(k.a)(n.prototype),"serialize",this).call(this)),{},{configurations:this.configurations})}},{key:"addInputPort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.bits,a=t.floating,r=t.error,o=Q(e);o.setAsInput(),"string"===typeof e&&(o.setBits(i||1),o.setDefaultFloatingValue(null!==a&&void 0!==a?a:"x"),o.setDefaultErrorValue(null!==r&&void 0!==r?r:"e")),Object(x.a)(Object(k.a)(n.prototype),"addPort",this).call(this,o)}},{key:"addOutputPort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.bits,a=Q(e);a.setAsOutput(),"string"===typeof e&&(a.setBits(i||1),a.setDefaultFloatingValue("x"),a.setDefaultErrorValue("e")),Object(x.a)(Object(k.a)(n.prototype),"addPort",this).call(this,a)}},{key:"addPort",value:function(e,t){var n=Q(e);if(n.isInput())this.addInputPort(n,t);else{if(!n.isOutput())throw new Error("[logossim] Use either `addInputPort` or `addOutputPort`");this.addOutputPort(n,t)}}},{key:"removePort",value:function(e){var t=Q(e);Object(x.a)(Object(k.a)(n.prototype),"removePort",this).call(this,t)}},{key:"getInputPorts",value:function(){return Object.fromEntries(Object.entries(this.getPorts()).filter((function(e){return Object(d.a)(e,2)[1].isInput()})))}},{key:"getOutputPorts",value:function(){return Object.fromEntries(Object.entries(this.getPorts()).filter((function(e){return!Object(d.a)(e,2)[1].isInput()})))}},{key:"getAllLinks",value:function(){return Object.values(this.getPorts()).map((function(e){return e.getMainLink()})).filter((function(e){return!!e})).reduce((function(e,t){return[].concat(Object(E.a)(e),[t],Object(E.a)(t.getAllBifurcations()))}),[])}},{key:"clone",value:function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var r=(e=Object(x.a)(Object(k.a)(n.prototype),"clone",this)).call.apply(e,[this].concat(i));return r.setPosition(new O.Point(this.getX()+15,this.getY()+15)),r}},{key:"initialize",value:function(){}},{key:"onSimulationStart",value:function(){}},{key:"onSimulationPause",value:function(){}},{key:"onSimulationStop",value:function(){}},{key:"step",value:function(){}},{key:"emit",value:function(e){!function(e,t){q.postMessage({command:"emit",emitted:{from:e,value:t}})}(this.getID(),e)}},{key:"createAudio",value:function(){}}]),n}(w.NodeModel),ee=n(18),te=n(5),ne=l.a.createContext(),ie=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i,a=e.type,r=e.name,o=e.description,l=e.group,c=e.configurations,s=void 0===c?[]:c,u=e.model,d=e.widget,p=e.icon;return Object(h.a)(this,n),(i=t.call(this,a)).name=r,i.description=o,i.group=l,i.configurations=s,i.Model=u,i.Widget=d,i.Icon=p,i}return Object(g.a)(n,[{key:"generateReactWidget",value:function(e){var t=this.Widget,n=e.model;return l.a.createElement(ee.MenuProvider,{id:"component",storeRef:!1,data:n},l.a.createElement(ne.Provider,{value:n},l.a.createElement(t,{model:n})))}},{key:"generateModel",value:function(e){var t=this.Model,n=e.initialConfig;return new t(n.configurations,n.type)}}]),n}(te.AbstractReactFactory),ae=n(1),re=n(2),oe=l.a.createContext(),le=n(275),ce=re.a.div.attrs((function(e){var t=e.disabled,n=Object(le.a)(e,["disabled"]);return Object(u.a)(Object(u.a)({},n),{},{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){if(!t){var i=JSON.parse(e.dataTransfer.getData("component"));n.handleComponentDrop(e,i)}}})}))(i||(i=Object(ae.a)(["\n  width: 100vw;\n  height: 100vh;\n"]))),se=Object(re.a)(te.CanvasWidget)(a||(a=Object(ae.a)(["\n  height: 100%;\n  width: 100%;\n"]))),ue=function(e){var t=e.engine;return l.a.createElement(ee.MenuProvider,{id:"diagram",storeRef:!1,data:{test:1}},l.a.createElement(ce,{handleComponentDrop:function(){return t.handleComponentDrop.apply(t,arguments)},disabled:t.isLocked()},l.a.createElement(oe.Provider,{value:t},l.a.createElement(se,{engine:t.getEngine()}))))},de=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).refPaths=[],i}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(){this.updateRenderedPaths()}},{key:"componentDidMount",value:function(){this.updateRenderedPaths()}},{key:"componentWillUnmount",value:function(){this.clearRenderedPaths()}},{key:"updateRenderedPaths",value:function(){this.props.link.setRenderedPaths(this.refPaths.map((function(e){return e.current})))}},{key:"clearRenderedPaths",value:function(){this.props.link.setRenderedPaths([])}},{key:"generatePathPoints",value:function(){var e=this.props.link.getPoints();return e.map((function(t,n){return{from:e[n],to:e[n+1]}})).filter((function(e){return e.to}))}},{key:"generateLinePath",value:function(e){var t=e.from,n=e.to;return"M".concat(t.getX(),",").concat(t.getY()," L").concat(n.getX(),",").concat(n.getY())}},{key:"renderSegment",value:function(e,t){var n=this.props,i=n.link,a=n.factory,r=n.options,o=(void 0===r?{}:r).selected,c=l.a.createRef();return this.refPaths.push(c),l.a.cloneElement(a.generateLinkSegment(i,o,e),{key:t,ref:c})}},{key:"renderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.link,i=n.getColor();return l.a.createElement("circle",{r:t?6:n.getPointRadius(),fill:t?"var(--background)":i,stroke:t?i:"none",strokeWidth:3,cx:e.x,cy:e.y})}},{key:"renderBifurcationSourcePoint",value:function(){var e=this.props.link,t=e.getBifurcationSource();if(!t)return null;var n=e.getFirstPoint().getPosition(),i=t.getLastPoint().getPosition();return C(n,i)?null:this.renderPoint(n)}},{key:"renderBifurcationTargetPoint",value:function(){var e=this.props.link,t=e.getBifurcationTarget();if(!t)return null;var n=e.getLastPoint().getPosition(),i=t.getLastPoint().getPosition();return C(n,i)?null:this.renderPoint(n)}},{key:"renderLooseLinkPoint",value:function(){var e=this.props.link;if(e.getTargetPort())return null;if(e.getBifurcationTarget())return null;var t=e.getBifurcations(),n=e.getLastPoint().getPosition();return t.some((function(e){return C(e.getFirstPosition(),n)||C(e.getLastPosition(),n)}))?null:this.renderPoint(n,!0)}},{key:"render",value:function(){var e=this,t=this.props.link;return this.refPaths=[],l.a.createElement(l.a.Fragment,null,l.a.createElement("g",{"data-default-link-test":t.getOptions().testName},this.generatePathPoints().map((function(t,n){return e.renderSegment(e.generateLinePath(t),n)}))),this.renderBifurcationSourcePoint(),this.renderBifurcationTargetPoint(),this.renderLooseLinkPoint())}}]),n}(o.Component),pe=re.a.path(r||(r=Object(ae.a)(["\n  pointer-events: all;\n  stroke-linecap: round;\n"]))),fe=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.call(this,"link")}return Object(g.a)(n,[{key:"generateModel",value:function(){return new H}},{key:"generateReactWidget",value:function(e){return l.a.createElement(de,{diagramEngine:this.engine,link:e.model,factory:this})}},{key:"generateLinkSegment",value:function(e,t,n){return l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,{stroke:e.getColor(),strokeWidth:e.getLineWidth(),d:n}),l.a.createElement(pe,{stroke:"none",strokeWidth:20,d:n}))}}]),n}(j.DefaultLinkFactory),me=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.call(this,"Port")}return Object(g.a)(n,[{key:"generateModel",value:function(){return new U}}]),n}(te.AbstractModelFactory),he=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:te.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e()&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var a=n.code;"KeyX"===a&&i.handleCut(),"KeyC"===a&&i.handleCopy(),"KeyV"===a&&i.handlePaste()}}})).matchesInput=function(e){var t=e.ctrlKey,n=e.code;return t&&("KeyX"===n||"KeyC"===n||"KeyV"===n)},i.getSelectedComponents=function(){return i.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof $})).filter((function(e){return!e.isLocked()}))},i.handleCut=function(){var e=i.getSelectedComponents(),t=e.map((function(e){return e.clone().serialize()}));i.engine.fireEvent({nodes:e,links:e.reduce((function(e,t){return[].concat(Object(E.a)(e),Object(E.a)(t.getAllLinks()))}),[])},"entitiesRemoved"),e.forEach((function(e){return e.remove()})),i.engine.repaintCanvas(),localStorage.setItem("clipboard",JSON.stringify(t))},i.handleCopy=function(){var e=i.getSelectedComponents().map((function(e){return e.clone().serialize()}));localStorage.setItem("clipboard",JSON.stringify(e))},i.handlePaste=function(){var e=i.engine.getModel(),t=JSON.parse(localStorage.getItem("clipboard"));if(t){e.clearSelection();var n=t.map((function(t){var n=e.getActiveNodeLayer().getChildModelFactoryBank(i.engine).getFactory(t.type).generateModel({initialConfig:t});return n.deserialize({engine:i.engine,data:t,registerModel:function(){}}),n}));n.forEach((function(t){e.addNode(t),t.setSelected(!0)})),localStorage.setItem("clipboard",JSON.stringify(n.map((function(e){return e.clone().serialize()})))),i.engine.fireEvent({nodes:n},"componentsAdded"),i.engine.repaintCanvas()}},i}return n}(te.Action),ge=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:te.InputType.KEY_DOWN,fire:function(t){var n=t.event;e()&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).matchesInput=function(e){return"Delete"===e.code},i.handleAction=function(){var e=i.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()}));i.fireEvent(e),e.forEach((function(e){return e.remove()})),i.engine.repaintCanvas()},i.fireEvent=function(e){var t=e.filter((function(e){return e instanceof $})),n=e.filter((function(e){return e instanceof H})),a=t.reduce((function(e,t){return[].concat(Object(E.a)(e),Object(E.a)(t.getAllLinks()))}),[]);i.engine.fireEvent({nodes:t,links:[].concat(Object(E.a)(a),Object(E.a)(n))},"entitiesRemoved")},i}return n}(te.Action),be=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:te.InputType.KEY_DOWN,fire:function(t){var n=t.event;e()&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).matchesInput=function(e){return e.ctrlKey&&"KeyD"===e.code},i.handleAction=function(){var e=i.engine.getModel(),t=e.getSelectedEntities().filter((function(e){return e instanceof $})).filter((function(e){return!e.isLocked()})).map((function(e){return e.clone()}));e.clearSelection(),t.forEach((function(t){e.addNode(t),t.setSelected(!0)})),i.engine.fireEvent({nodes:t},"componentsAdded"),i.engine.repaintCanvas()},i}return n}(te.Action),ve=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:te.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e()&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var a=n.ctrlKey,r=n.shiftKey,o=n.code;a&&!r&&"KeyZ"===o?i.handleUndo():i.handleRedo()}}})).matchesInput=function(e){var t=e.ctrlKey,n=e.shiftKey,i=e.code;return t&&("KeyZ"===i||"KeyY"===i)||t&&n&&"KeyZ"===i},i.handleUndo=function(){i.engine.commands.undo(),i.engine.repaintCanvas()},i.handleRedo=function(){i.engine.commands.redo(),i.engine.repaintCanvas()},i}return n}(te.Action),ye=[15,25,50,75,100,150,200,300],Ee=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),e=t.call(this,{type:te.InputType.MOUSE_WHEEL,fire:function(t){var n=t.event;n.stopPropagation();var i=e.engine.getModel();i.getLayers().forEach((function(e){return e.allowRepaint(!1)}));var a,r=Math.sign(n.deltaY)>0?"in":"out",o=ye.indexOf(ye.includes(i.getZoomLevel())?i.getZoomLevel():100);a="in"===r?Math.min(o+1,ye.length-1):Math.max(o-1,0);var l=i.getZoomLevel()/100;i.setZoomLevel(ye[a]);var c=i.getZoomLevel()/100,s=e.engine.getCanvas().getBoundingClientRect(),u=s.width,d=s.height,p=u*c-u*l,f=d*c-d*l,m=n.clientX-s.left,h=n.clientY-s.top,g=(m-i.getOffsetX())/l/u,b=(h-i.getOffsetY())/l/d;i.setOffset(i.getOffsetX()-p*g,i.getOffsetY()-f*b),e.engine.repaintCanvas(),i.getLayers().forEach((function(e){return e.allowRepaint(!0)}))}})}return n}(te.Action),xe=function(e){var t=e.engine,n=e.editComponentConfiguration,i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[].concat(Object(E.a)(Object.values(t.getModel().getActiveNodeLayer().getModels())),Object(E.a)(n)),a=e.getSourcePort();if(a){var r=i.find((function(t){return t.getID()===e.getSourcePort().getParent().getID()}));a=r.getPort(a.getName()),e.setSourcePort(a),a.addLink(e)}var o=e.getTargetPort();if(o){var l=i.find((function(t){return t.getID()===e.getTargetPort().getParent().getID()}));o=l.getPort(o.getName()),e.setTargetPort(o),o.addLink(e)}return e.getBifurcationSource()&&e.getBifurcationSource().addBifurcation(e),e.getBifurcationTarget()&&e.getBifurcationTarget().addBifurcation(e),e};return{componentsAdded:function(e){var n=e.nodes;t.commands.add({execute:function(){n.forEach((function(e){return t.getModel().addNode(e)}))},undo:function(){n.forEach((function(e){return e.remove()}))}})},componentEdited:function(e){var a=e.node,r=e.configurations,o=e.links;t.commands.add({execute:function(){n(a,r.after)},undo:function(){n(a,r.before),o.before.forEach((function(e){return t.getModel().addLink(i(e))}))}})},linkAdded:function(e){var n=e.link;t.commands.add({execute:function(){t.getModel().addLink(i(n))},undo:function(){n.remove()}})},linkChanged:function(e){var n=e.before,i=e.after,a=function(e,n){var i=t.getModel().getLink(e.id);if(i.setPoints(e.points.map((function(e){var t=new w.PointModel({link:i});return t.setPosition(e),t}))),e.bifurcationTarget){var a=t.getModel().getLink(e.bifurcationTarget);i.setBifurcationTarget(a),a.addBifurcation(i)}else if(n.bifurcationTarget){var r=t.getModel().getLink(n.bifurcationTarget);i.setBifurcationTarget(null),r.removeBifurcation(i)}};t.commands.add({execute:function(){a(i,n)},undo:function(){a(n,i)}})},entitiesRemoved:function(e){var n=e.nodes,a=e.links;t.commands.add({execute:function(){n.forEach((function(e){return e.remove()})),a.forEach((function(e){return e.remove()}))},undo:function(){a.map((function(e){return i(e,n)})).sort((function(e,t){return e.getBifurcationSource()===t||e.getBifurcationTarget()===t?1:t.getBifurcationSource()===e||t.getBifurcationTarget()===e?-1:0})).forEach((function(e){return t.getModel().addLink(e)})),n.forEach((function(e){return t.getModel().addNode(e)}))}})},entitiesMoved:function(e){var n=e.nodes,i=e.links,a=function(e){n[e].forEach((function(e){var n=e.id,i=e.position;t.getModel().getNode(n).setPosition(i.x,i.y)})),i[e].forEach((function(e){var n=e.id,i=e.points,a=t.getModel().getLink(n);a.setPoints(i.map((function(e){var t=new w.PointModel({link:a});return t.setPosition(e),t})))}))};t.commands.add({execute:function(){a("after")},undo:function(){a("before")}})}}},ke=function(){function e(t,n){Object(h.a)(this,e),this.execute=t,this.undo=n}return Object(g.a)(e,[{key:"execute",value:function(e){this.execute(e)}},{key:"undo",value:function(e){this.undo(e)}}]),e}(),Oe=function(){function e(){Object(h.a)(this,e),this.clear()}return Object(g.a)(e,[{key:"clear",value:function(){this.stack=[],this.index=0}},{key:"add",value:function(e){var t=e.execute,n=e.undo,i=new ke(t,n);this.stack.length=this.index,this.stack.push(i),this.index+=1}},{key:"undo",value:function(){this.index>0&&(this.index-=1,this.stack[this.index].undo())}},{key:"redo",value:function(){this.index<this.stack.length&&(this.stack[this.index].execute(),this.index+=1)}}]),e}(),we=n(26),Pe=function(e,t,n,i){var a=function(e,t){var n=t.getZoomLevel()/100,i=t.getOffsetX()/n,a=t.getOffsetY()/n;return new O.Point(e.x-i,e.y-a)}(i,t),r=t.getZoomLevel()/100,o=n.x/r,l=n.y/r,c=a.x+(o-i.x)+e.virtualDisplacementX,s=a.y+(l-i.y)+e.virtualDisplacementY;return S(new O.Point(c,s),t.options.gridSize)};function je(e,t){var n=t.getFirstPosition(),i=t.getLastPosition(),a=Pe(e,this.engine.getModel(),{x:this.initialXRelative,y:this.initialYRelative},n);if(!this.hasStartedMoving&&C(n,i)&&(this.hasStartedMoving=!0),this.hasStartedMoving)if(t.hasMiddlePoint()){var r=t.getMiddlePosition();C(r,i)?t.removePoint(t.getMiddlePoint()):C(n,r)?(t.removePoint(t.getMiddlePoint()),this.moveDirection="horizontal"===this.moveDirection?"vertical":"horizontal"):"horizontal"===this.moveDirection?i.x!==a.x&&t.getMiddlePoint().setPosition(a.x,n.y):"vertical"===this.moveDirection&&i.y!==a.y&&t.getMiddlePoint().setPosition(n.x,a.y)}else i.x!==a.x?(this.moveDirection||(this.moveDirection="horizontal"),"vertical"===this.moveDirection&&t.addPoint(t.generatePoint(i.x,a.y),1)):i.y!==a.y&&(this.moveDirection||(this.moveDirection="vertical"),"horizontal"===this.moveDirection&&t.addPoint(t.generatePoint(a.x,i.y),1));t.hasMiddlePoint()||n.x===a.x||n.y===a.y||(C(n,i)||"horizontal"===this.moveDirection?t.addPoint(t.generatePoint(a.x,n.y),1):t.addPoint(t.generatePoint(n.x,a.y),1)),t.getLastPoint().setPosition(a.x,a.y),this.engine.repaintCanvas()}var Se,Ce,Ae,Te,Be,Le=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{name:"bifurcate-link"})).fireEvent=function(){i.sourceEdited?i.engine.fireEvent({before:i.sourceBefore,after:i.getLinkPoints(i.source)},"linkChanged"):i.engine.fireEvent({link:i.bifurcation},"linkAdded")},i.registerAction(new te.Action({type:te.InputType.MOUSE_DOWN,fire:function(e){i.moveDirection=void 0,i.hasStartedMoving=!1,i.source=i.engine.getMouseElement(e.event),i.sourceBefore=i.getLinkPoints(i.source),i.sourceEdited=!1;var t=i.snapPointToSourceLink(i.engine.getRelativeMousePoint(e.event),i.source);i.source.isLocked()?i.eject():(i.bifurcation=i.engine.getLinkFactories().getFactory(i.source.getType()).generateModel(),i.bifurcation.setBits(i.source.getBits()),i.bifurcation?(i.bifurcation.setBifurcationSource(i.source),i.bifurcation.getFirstPoint().setPosition(t),i.bifurcation.getLastPoint().setPosition(t),i.bifurcation.setSelected(!0),i.engine.getModel().clearSelection(),i.source.setSelected(!1),i.source.addBifurcation(i.bifurcation),i.engine.getModel().addLink(i.bifurcation)):i.eject())}})),i.registerAction(new te.Action({type:te.InputType.MOUSE_UP,fire:function(t){if(i.isNearbySourcePosition())return i.cleanUp(),i.engine.getModel().clearSelection(),i.source.setSelected(!0),void i.engine.repaintCanvas();var n=i.engine.getMouseElement(t.event);if(n instanceof we.NodeModel)return i.cleanUp(),void i.engine.repaintCanvas();if(n instanceof we.PortModel&&n.isNewLinkAllowed())return i.source.getBits()!==n.getBits()?(i.cleanUp(),i.engine.repaintCanvas(),void e(D(i.source,n))):(i.bifurcation.setTargetPort(n),n.reportPosition(),i.adjustBifurcationOverlayingSource(i.bifurcation),i.engine.repaintCanvas(),void i.fireEvent());var a=N(i.bifurcation,i.engine);if(a){if(a.getBits()!==i.bifurcation.getBits())return i.cleanUp(),i.engine.repaintCanvas(),void e(D(i.bifurcation,a));i.bifurcation.setBifurcationTarget(a),a.addBifurcation(i.bifurcation),a.setSelected(!0)}i.mergeWithBifurcation(i.bifurcation.getBifurcationSource()),i.adjustBifurcationOverlayingSource(i.bifurcation),i.fireEvent()}})),i}return Object(g.a)(n,[{key:"getLinkPoints",value:function(e){return{id:e.getID(),points:e.getPoints().map((function(e){return e.getPosition()})),bifurcationTarget:e.getBifurcationTarget()?e.getBifurcationTarget().getID():null}}},{key:"cleanUp",value:function(){this.source.removeBifurcation(this.bifurcation),this.bifurcation.remove()}},{key:"snapPointToSourceLink",value:function(e,t){var n=this.engine.getModel().getOptions().gridSize,i=t.getPoints(),a=this.getClosestCornerToPosition(i,e);if(a.distance<n-1)return new O.Point(a.position.x,a.position.y);var r=this.getClosestPathToPosition(i,e),o=S(e,n);return new O.Point("x"===r.axis?r.position:o.x,"y"===r.axis?r.position:o.y)}},{key:"getClosestCornerToPosition",value:function(e,t){return e.map((function(e){return Object(u.a)({distance:Math.hypot(t.x-e.position.x,t.y-e.position.y)},e)})).reduce((function(e,t){return t.distance<e.distance?t:e}))}},{key:"getPathPoints",value:function(e){return e.map((function(t,n){return{from:e[n],to:e[n+1]}})).filter((function(e){return e.to}))}},{key:"getPathDirections",value:function(e){return this.getPathPoints(e).map((function(e){return A(e.from.position,e.to.position)?{axis:"x",position:e.from.position.x}:{axis:"y",position:e.from.position.y}}))}},{key:"getClosestPathToPosition",value:function(e,t){return this.getPathDirections(e).map((function(e){return Object(u.a)({distance:Math.abs(t[e.axis]-e.position)},e)})).reduce((function(e,t){return t.distance<e.distance?t:e}))}},{key:"isNearbySourcePosition",value:function(){return C(this.bifurcation.getFirstPosition(),this.bifurcation.getLastPosition())}},{key:"adjustBifurcationOverlayingSource",value:function(){var e=this.bifurcation.getBifurcationSource();if(C(this.bifurcation.getFirstPosition(),e.getLastPosition()))I(this.bifurcation.getSecondPosition(),e)&&this.bifurcation.removePoint(this.bifurcation.getFirstPoint());else{if(I(this.bifurcation.getFirstPosition(),e)&&I(this.bifurcation.getSecondPosition(),e)){if(!this.bifurcation.hasMiddlePoint())return this.bifurcation.remove(),void e.removeBifurcation(this.bifurcation);if(this.bifurcation.removePoint(this.bifurcation.getFirstPoint()),C(this.bifurcation.getFirstPosition(),e.getMiddlePosition()))return I(this.bifurcation.getLastPosition(),e)?(this.bifurcation.remove(),void e.removeBifurcation(this.bifurcation)):(this.bifurcation.getFirstPoint().setPosition(e.getLastPosition()),void this.mergeWithBifurcation(e))}e.hasMiddlePoint()&&B(this.bifurcation.getFirstPosition(),e.getMiddlePosition(),this.bifurcation.getSecondPosition())&&this.bifurcation.getFirstPoint().setPosition(e.getMiddlePosition())}}},{key:"mergeWithBifurcation",value:function(e){var t={first:e.getFirstPosition(),middle:e.getMiddlePosition(),last:e.getLastPosition(),secondLast:e.getSecondLastPosition()};e.getBifurcations().forEach((function(t){I(e.getLastPosition(),t)&&t.getFirstPoint().setPosition(e.getLastPosition())}));var n=e.getBifurcations().filter((function(n){return!!C(n.getFirstPosition(),t.last)&&(!e.hasMiddlePoint()&&!n.hasMiddlePoint()||(e.hasMiddlePoint()&&n.hasMiddlePoint()?!!C(t.middle,n.getMiddlePosition()):!!B(t.last,t.secondLast,n.getSecondPosition())))}))[0];if(n){var i=n.getSecondLastPosition(),a=n.getLastPosition();e.hasMiddlePoint()||e.addPoint(e.generatePoint(i.x,i.y),1),e.getLastPoint().setPosition(a.x,a.y),e.isStraight()&&e.hasMiddlePoint()&&e.removePoint(e.getMiddlePoint()),e.removeBifurcation(n);var r=n.getBifurcationTarget();r&&(e.setBifurcationTarget(r),r.addBifurcation(e)),this.sourceEdited=!0,n.remove(),C(e.getFirstPosition(),e.getLastPosition())?e.remove():e.setSelected(!0),this.adjustBifurcationPoints(e)}}},{key:"adjustBifurcationPoints",value:function(e){var t=this.engine.getModel().getOptions().gridSize;e.getBifurcations().filter((function(t){return!I(t.getFirstPosition(),e)})).forEach((function(n){var i=S(L(n.getFirstPosition(),e),t);n.getFirstPoint().setPosition(i.x,i.y),B(n.getFirstPosition(),n.getLastPosition())||(n.hasMiddlePoint()&&n.removePoint(n.getMiddlePoint()),A(e.getFirstPosition(),e.getSecondPosition())?n.addPoint(n.generatePoint(n.getLastPosition().x,n.getFirstPosition().y),1):n.addPoint(n.generatePoint(n.getFirstPosition().x,n.getLastPosition().y),1))}))}},{key:"fireMouseMoved",value:function(e){je.call(this,e,this.bifurcation)}}]),n}(te.AbstractDisplacementState),Me=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.call(this,{name:"drag-canvas"})}return Object(g.a)(n,[{key:"activated",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(x.a)(Object(k.a)(n.prototype),"activated",this).call(this,t),this.engine.getModel().clearSelection(),e.next=4,this.engine.repaintCanvas(!0);case 4:this.engine.getModel().getLayers().forEach((function(e){return e.allowRepaint(!1)})),this.initialCanvasX=this.engine.getModel().getOffsetX(),this.initialCanvasY=this.engine.getModel().getOffsetY();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deactivated",value:function(e){Object(x.a)(Object(k.a)(n.prototype),"deactivated",this).call(this,e),this.engine.getModel().getLayers().forEach((function(e){return e.allowRepaint(!0)}))}},{key:"fireMouseMoved",value:function(e){(1===e.event.nativeEvent.which||e.event.nativeEvent.targetTouches)&&(this.engine.getModel().setOffset(this.initialCanvasX+e.displacementX,this.initialCanvasY+e.displacementY),this.engine.repaintCanvas())}}]),n}(te.AbstractDisplacementState),Ie=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{name:"drag-new-link"})).fireEvent=function(){i.engine.fireEvent({link:i.link},"linkAdded")},i.registerAction(new te.Action({type:te.InputType.MOUSE_DOWN,fire:function(e){i.moveDirection=void 0,i.hasStartedMoving=!1,i.port=i.engine.getMouseElement(e.event),i.port instanceof U&&!i.port.isLocked()?(i.link=i.port.createLinkModel(),i.link?(i.link.setSelected(!0),i.link.setSourcePort(i.port),i.engine.getModel().clearSelection(),i.engine.getModel().addLink(i.link),i.port.reportPosition()):i.eject()):i.eject()}})),i.registerAction(new te.Action({type:te.InputType.MOUSE_UP,fire:function(t){var n=i.engine.getMouseElement(t.event);if((Object.getPrototypeOf(n)instanceof $||i.isNearbySourcePort(t.event))&&(i.link.remove(),i.engine.repaintCanvas()),n instanceof U&&i.port.canLinkToPort(n))return i.port.getBits()!==n.getBits()?(i.link.remove(),i.engine.repaintCanvas(),void e(D(i.port,n))):(i.link.setTargetPort(n),n.reportPosition(),i.engine.repaintCanvas(),void i.fireEvent());var a=N(i.link,i.engine);if(a){if(a.getBits()!==i.link.getBits())return i.link.remove(),i.engine.repaintCanvas(),void e(D(i.link,a));var r=i.engine.getFactoryForLink(a).generateModel();r.setPoints(i.link.getPoints().reverse()),r.setTargetPort(i.link.getSourcePort()),r.setBifurcationSource(a),r.setBits(a.getBits()),a.addBifurcation(r),a.setSelected(!0),i.link.remove(),i.engine.getModel().addLink(r),i.link=r}i.fireEvent()}})),i}return Object(g.a)(n,[{key:"isNearbySourcePort",value:function(e){var t,n,i,a=this.engine.getRelativeMousePoint(e),r=this.link.getSourcePort(),o=r.width,l=r.getPosition();return t=a,n=l,i=o,Math.abs(t.x-n.x)<=i&&Math.abs(t.y-n.y)<=i}},{key:"fireMouseMoved",value:function(e){je.call(this,e,this.link)}}]),n}(te.AbstractDisplacementState),Ne=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,{name:"move-items"})).getNodesPositions=function(){return e.engine.getModel().getSelectedEntities().filter((function(e){return Object.getPrototypeOf(e)instanceof $})).map((function(e){return{id:e.getID(),position:e.getPosition()}}))},e.getLinksPoints=function(){return e.engine.getModel().getSelectedEntities().filter((function(e){return Object.getPrototypeOf(e)instanceof $})).map((function(e){return e.getAllLinks()})).flat().map((function(e){return{id:e.getID(),points:e.getPoints().map((function(e){return e.getPosition()}))}}))},e.adjustLinkPoints=function(t){var n=t.getFirstPosition(),i=t.getLastPosition();if(t.hasMiddlePoint()||n.x===i.x||n.y===i.y){if(t.hasMiddlePoint()){"horizontal"===e.linkDirections[t.getID()]?t.getMiddlePoint().setPosition(i.x,n.y):t.getMiddlePoint().setPosition(n.x,i.y);var a=t.getMiddlePosition();(C(n,a)||C(a,i))&&t.removePoint(t.getMiddlePoint())}}else t.addPoint(t.generatePoint(n.x,i.y),1);e.adjustLinkBifurcations(t)},e.registerAction(new te.Action({type:te.InputType.MOUSE_DOWN,fire:function(t){e.engine.getModel().isLocked()?e.eject():(e.lastDisplacement=new O.Point(0,0),e.element=e.engine.getActionEventBus().getModelForEvent(t),e.element?(e.element.isSelected()||e.engine.getModel().clearSelection(),e.linkDirections=e.getLinkDirections(e.element),e.element.setSelected(!0),e.engine.repaintCanvas(),e.nodesBefore=e.getNodesPositions(),e.linksBefore=e.getLinksPoints()):e.eject())}})),e.registerAction(new te.Action({type:te.InputType.MOUSE_UP,fire:function(){0===e.lastDisplacement.x&&0===e.lastDisplacement.y||e.fireEvent()}})),e}return Object(g.a)(n,[{key:"fireEvent",value:function(){this.engine.fireEvent({nodes:{before:this.nodesBefore,after:this.getNodesPositions()},links:{before:this.linksBefore,after:this.getLinksPoints()}},"entitiesMoved")}},{key:"activated",value:function(e){Object(x.a)(Object(k.a)(n.prototype),"activated",this).call(this,e),this.initialPositions={}}},{key:"getLinksFromNode",value:function(e){var t=this;return Object.getPrototypeOf(e)instanceof $?Object.values(e.getPorts()).map((function(e){return Object.entries(e.getLinks())})).filter((function(e){return e.length>0})).flat().map((function(e){var n=Object(d.a)(e,2),i=n[0],a=n[1];return[[i,a]].concat(Object(E.a)(t.getBifurcatedLinks(a)))})).flat():[]}},{key:"getBifurcatedLinks",value:function(e){var t=this;return e.getBifurcations().map((function(e){return[[e.getID(),e]].concat(Object(E.a)(t.getBifurcatedLinks(e)))})).flat()}},{key:"getLinkDirections",value:function(e){var t=this;return this.getLinksFromNode(e).reduce((function(e,n){var i=Object(d.a)(n,2),a=i[0],r=i[1];return Object(u.a)(Object(u.a)({},e),{},Object(z.a)({},a,t.getLinkDirection(r)))}),{})}},{key:"getLinkDirection",value:function(e){if(!e.hasMiddlePoint())return null;var t=e.getFirstPosition(),n=e.getMiddlePosition();return A(t,n)?"vertical":T(t,n)?"horizontal":null}},{key:"fireMouseMoved",value:function(e){var t=this;if(1===e.event.nativeEvent.which){var n=S(new O.Point(e.virtualDisplacementX,e.virtualDisplacementY),this.engine.getModel().getOptions().gridSize);C(n,this.lastDisplacement)||(this.lastDisplacement=n,this.engine.getModel().getSelectedEntities().filter((function(e){return Object.getPrototypeOf(e)instanceof $})).forEach((function(n){t.moveEntity(n,e),t.adjustNodeLinks(n)})),this.engine.repaintCanvas())}}},{key:"moveEntity",value:function(e,t){if(!e.isLocked()){this.initialPositions[e.getID()]||(this.initialPositions[e.getID()]={point:e.getPosition(),item:e});var n=this.initialPositions[e.getID()].point,i=this.engine.getModel();e.setPosition(i.getGridPosition(n.x+t.virtualDisplacementX),i.getGridPosition(n.y+t.virtualDisplacementY))}}},{key:"adjustNodeLinks",value:function(e){var t=this;Object.values(e.getPorts()).forEach((function(e){return Object.values(e.getLinks()).forEach(t.adjustLinkPoints)}))}},{key:"adjustLinkBifurcations",value:function(e){var t=this;e.getBifurcations().forEach((function(e){t.adjustFirstAndLastPoints(e),t.adjustLinkPoints(e)}))}},{key:"adjustFirstAndLastPoints",value:function(e){var t=this.engine.getModel().getOptions().gridSize,n=e.getFirstPoint(),i=S(L(n.getPosition(),e.getBifurcationSource()),t);if(n.setPosition(i.x,i.y),e.getBifurcationTarget()){var a=e.getLastPoint(),r=S(L(a.getPosition(),e.getBifurcationTarget()),t);a.setPosition(r.x,r.y)}}}]),n}(te.AbstractDisplacementState),De=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.call(this,{name:"selection-box"})}return Object(g.a)(n,[{key:"activated",value:function(e){Object(x.a)(Object(k.a)(n.prototype),"activated",this).call(this,e),this.layer=new te.SelectionLayerModel,this.engine.getModel().addLayer(this.layer)}},{key:"deactivated",value:function(e){Object(x.a)(Object(k.a)(n.prototype),"deactivated",this).call(this,e),this.layer.remove(),this.engine.repaintCanvas()}},{key:"getBoxDimensions",value:function(e){var t=this.engine.getRelativePoint(e.event.clientX,e.event.clientY);return{left:t.x>this.initialXRelative?this.initialXRelative:t.x,top:t.y>this.initialYRelative?this.initialYRelative:t.y,width:Math.abs(t.x-this.initialXRelative),height:Math.abs(t.y-this.initialYRelative),right:t.x<this.initialXRelative?this.initialXRelative:t.x,bottom:t.y<this.initialYRelative?this.initialYRelative:t.y}}},{key:"fireMouseMoved",value:function(e){var t=this;this.layer.setBox(this.getBoxDimensions(e));var n=this.engine.getRelativeMousePoint({clientX:this.initialX,clientY:this.initialY});e.virtualDisplacementX<0&&(n.x-=Math.abs(e.virtualDisplacementX)),e.virtualDisplacementY<0&&(n.y-=Math.abs(e.virtualDisplacementY));var i=new O.Rectangle(n,Math.abs(e.virtualDisplacementX),Math.abs(e.virtualDisplacementY));this.engine.getModel().isLocked()||this.engine.getModel().getSelectionEntities().forEach((function(e){if(e.getBoundingBox){if(!t.allowSelection(e))return;var n=e.getBoundingBox();i.containsPoint(n.getTopLeft())&&i.containsPoint(n.getBottomRight())?e.setSelected(!0):e.setSelected(!1)}})),this.engine.repaintCanvas()}},{key:"allowSelection",value:function(e){return!(e instanceof we.LinkModel)&&!(e instanceof we.PointModel)}}]),n}(te.AbstractDisplacementState),ze=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,{name:"selecting"})).keys=["shift"],e.registerAction(new te.Action({type:te.InputType.MOUSE_DOWN,fire:function(t){var n=e.engine.getActionEventBus().getModelForEvent(t);n?(n.setSelected(!0),e.engine.repaintCanvas()):e.transitionWithEvent(new De,t)}})),e}return n}(te.State),Re=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{name:"diagram-states"})).childStates=[new ze],i.dragCanvas=new Me,i.dragNewLink=new Ie(e),i.bifurcateLink=new Le(e),i.dragItems=new Ne,i.registerAction(new te.Action({type:te.InputType.MOUSE_DOWN,fire:function(e){var t=i.engine.getActionEventBus().getModelForEvent(e);t?t instanceof U?i.transitionWithEvent(i.dragNewLink,e):t instanceof H?i.transitionWithEvent(i.bifurcateLink,e):i.transitionWithEvent(i.dragItems,e):i.transitionWithEvent(i.dragCanvas,e)}})),i.registerAction(new te.Action({type:te.InputType.TOUCH_START,fire:function(e){i.transitionWithEvent(i.dragCanvas,e)}})),i}return n}(te.State),Fe=function e(t,n,i){var a=this;Object(h.a)(this,e),this.getEngine=function(){return a.engine},this.getModel=function(){return a.engine.getModel()},this.initializeEngine=function(){a.engine=P()({registerDefaultDeleteItemsAction:!1,registerDefaultZoomCanvasAction:!1}),a.engine.commands=new Oe,a.engine.registerListener(xe(a)),a.engine.getStateMachine().pushState(new Re(a.showSnackbar)),[be,he,ge,ve,Ee].forEach((function(e){return a.engine.getActionEventBus().registerAction(new e(a.areShortcutsAllowed))})),a.engine.getPortFactories().registerFactory(new me),a.engine.getLinkFactories().registerFactory(new fe),a.registerComponents()},this.initializeModel=function(){a.model=new w.DiagramModel,a.model.setGridSize(15),a.model.setLocked(!1),a.model.registerListener({eventDidFire:function(e){var t=e.function;"offsetUpdated"===t&&a.adjustGridOffset(e),"zoomUpdated"===t&&a.adjustGridZoom(e)}}),a.realignGrid(),a.engine.setModel(a.model)},this.registerComponents=function(){a.components.forEach((function(e){a.engine.getNodeFactories().registerFactory(e)}))},this.serialize=function(){return a.model.serialize()},this.load=function(e){a.engine.commands.clear(),a.model.deserializeModel(e,a.engine),a.realignGrid(),a.engine.repaintCanvas()},this.setLocked=function(e){a.model.setLocked(e),a.locked=e},this.isLocked=function(){return a.locked},this.repaint=function(){return a.engine.repaintCanvas()},this.realignGrid=function(){a.adjustGridOffset({offsetX:a.model.getOffsetX(),offsetY:a.model.getOffsetY()}),a.adjustGridZoom({zoom:a.model.getZoomLevel()})},this.adjustGridOffset=function(e){var t=e.offsetX,n=e.offsetY;document.body.style.setProperty("--offset-x","".concat(t,"px")),document.body.style.setProperty("--offset-y","".concat(n,"px"))},this.adjustGridZoom=function(e){var t=e.zoom,n=a.model.getOptions().gridSize;document.body.style.setProperty("--grid-size","".concat(n*t/100,"px"))},this.handleComponentDrop=function(e,t){var n=a.components.find((function(e){return e.type===t.type})).Model,i=e?function(){var t=a.engine.getRelativeMousePoint(e),n=t.x,i=t.y;return new O.Point(15*Math.round(n/15),15*Math.round(i/15))}():function(){var e=a.model.getZoomLevel()/100,t=-a.model.getOffsetX()/e+window.innerWidth/(2*e),n=-a.model.getOffsetY()/e+window.innerHeight/(2*e);return new O.Point(15*Math.round(t/15),15*Math.round(n/15))}(),r=new n(t.configurations,t.type);r.setPosition(i),a.model.addNode(r),a.engine.fireEvent({nodes:[r]},"componentsAdded"),a.engine.repaintCanvas()},this.handleComponentEdit=function(e,t){var n=e.configurations,i=e.getAllLinks();a.editComponentConfiguration(e,t),a.engine.fireEvent({node:e,configurations:{before:n,after:e.configurations},links:{before:i,after:e.getAllLinks()}},"componentEdited"),a.engine.repaintCanvas()},this.editComponentConfiguration=function(e,t){var n=e.getPorts();e.configurations=t,e.ports={},e.initialize(t);var i=Object.values(e.getPorts()).some((function(e){return!n[e.getName()]})),a=Object.values(n).some((function(t){return!e.getPort(t.getName())}));i||a?Object.values(n).forEach((function(e){return Object.values(e.getLinks()).forEach((function(e){return e.remove()}))})):Object.values(n).forEach((function(t){var n=e.getPort(t.getName());if(t.getBits()===n.getBits()){var i=Object.values(t.getLinks())[0];i&&(n.addLink(i),t===i.getSourcePort()&&i.setSourcePort(n),t===i.getTargetPort()&&i.setTargetPort(n),t.remove())}else t.getMainLink()&&t.getMainLink().remove()}))},this.clearSelection=function(){return a.getEngine().getModel().clearSelection()},this.getSelectedNodes=function(){return a.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof $}))},this.fireAction=function(e){return a.engine.getActionEventBus().fireAction({event:Object(u.a)(Object(u.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})},this.duplicateSelected=function(){return a.fireAction({type:"keydown",ctrlKey:!0,code:"KeyD"})},this.cutSelected=function(){return a.fireAction({type:"keydown",ctrlKey:!0,code:"KeyX"})},this.copySelected=function(){return a.fireAction({type:"keydown",ctrlKey:!0,code:"KeyC"})},this.pasteSelected=function(){return a.fireAction({type:"keydown",ctrlKey:!0,code:"KeyV"})},this.deleteSelected=function(){return a.fireAction({type:"keydown",code:"Delete"})},this.undo=function(){return a.fireAction({type:"keydown",ctrlKey:!0,code:"KeyZ"})},this.redo=function(){return a.fireAction({type:"keydown",ctrlKey:!0,shiftKey:!0,code:"KeyZ"})},this.zoomIn=function(e){var t=e.event;return a.fireAction({clientX:t.clientX,clientY:t.clientY,type:"wheel",deltaY:1})},this.zoomOut=function(e){var t=e.event;return a.fireAction({clientX:t.clientX,clientY:t.clientY,type:"wheel",deltaY:-1})},this.synchronizeLink=function(e,t){return a.getEngine().getModel().getLink(e).setValue(t)},this.synchronizeComponent=function(e,t){var n=a.getEngine().getModel().getNode(e);Object.entries(t.output).forEach((function(e){var t=Object(d.a)(e,2),i=t[0],a=t[1];return n.getPort(i).setValue(a)})),Object.entries(t.properties).forEach((function(e){var t=Object(d.a)(e,2),i=t[0],a=t[1];n[i]=a}))},this.clearAllValues=function(){a.clearLinkValues(),a.clearPortValues()},this.clearLinkValues=function(){return a.getEngine().getModel().getLinks().forEach((function(e){return e.setValue(null)}))},this.clearPortValues=function(){return a.getEngine().getModel().getNodes().forEach((function(e){return Object.values(e.getPorts()).forEach((function(e){return e.setValue(null)}))}))},this.components=t,this.areShortcutsAllowed=n,this.showSnackbar=i,this.locked=!1,this.initializeEngine(),this.initializeModel()},_e=re.a.div(Se||(Se=Object(ae.a)(["\n  width: 10px;\n  height: 10px;\n  border: var(--port-width) solid\n    ",";\n  border-radius: 100%;\n  background: ",";\n\n  &:hover {\n    background: var(--port-hover);\n  }\n"])),(function(e){return e.link?"var(--port-connected-border)":"var(--port-unconnected-border)"}),(function(e){return e.port.getColor()})),He=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"report",value:function(){this.props.port&&Object(x.a)(Object(k.a)(n.prototype),"report",this).call(this)}},{key:"componentDidUpdate",value:function(){this.props.port&&Object(x.a)(Object(k.a)(n.prototype),"componentDidUpdate",this).call(this)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.port,i=e.model,a=e.className,r=void 0===a?"":a;return n?l.a.createElement(_e,{className:"port ".concat(r),"data-name":t,"data-nodeid":i.getID(),port:n,link:n.getMainLink(),title:t}):null}}]),n}(w.PortWidget),We=(Ce=He,function(e){var t=Object.assign({},e),n=Object(o.useContext)(oe),i=Object(o.useContext)(ne);return l.a.createElement(Ce,Object.assign({},t,{port:i.getPort(t.name),engine:n.getEngine(),model:i}))}),Ue=function(e){if(2===e)return[1,5];if(3===e)return[1,3,5];if(4===e)return[1,2,4,5];var t=e%2===0,n=e-(t?0:1),i=0,a=5;e>5&&(i=Math.floor((5-n)/2),a=n+1);var r=Object(E.a)(Array(a).keys()).map((function(e){return e+i+1}));return t&&r.splice(e/2,1),r},Ve=re.a.div(Ae||(Ae=Object(ae.a)(["\n  position: absolute;\n  left: ","px;\n  height: ","px;\n  width: 2px;\n  background: ",";\n\n  ","\n"])),(function(e){return e.offsetX}),(function(e){return e.size}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return"".concat(e.place,": 88px;")})),Ye=function(e){var t=e.selected,n=e.portPositions,i=e.offsetX,a=void 0===i?1:i,r=n[n.length-1];if(r<=5)return null;var o=15*(r-5);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ve,{selected:t,size:o,place:"top",offsetX:a}),l.a.createElement(Ve,{selected:t,size:o,place:"bottom",offsetX:a}))},Xe=re.a.div(Te||(Te=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Ke=Object(re.a)(We)(Be||(Be=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Ze=function(e){var t=e.size,n=void 0===t?90:t;return l.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{transform:"scale(0.26458333)",d:"M 2 2 L 2 45 A 42.999999 42.999999 0 0 0 2 45.271484 L 2 88 L 45 88 A 42.999999 42.999999 0 0 0 88 45 A 42.999999 42.999999 0 0 0 45 2 L 44.728516 2 L 2 2 z "})))},Ge=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(Xe,{selected:t.isSelected()},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i}),n.map((function(e,t){return l.a.createElement(Ke,{key:e.getName(),name:e.getName(),position:i[t]})})),l.a.createElement(Ke,{name:"out"}),l.a.createElement(Ze,null))},qe=function(){return l.a.createElement(Ze,{size:30})};var Je,Qe,$e=new ie({type:"And",name:"And",description:'Logic "and" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.INPUT_PORTS_NUMBER);this.dataBits=Number(e.DATA_BITS);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return e.every(e=>1===e)?1:e.some(e=>0===e)?0:"e"}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit)}}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:Ge,icon:qe}),et=re.a.div(Je||(Je=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),tt=Object(re.a)(We)(Qe||(Qe=Object(ae.a)(["\n  position: absolute;\n  ","\n"])),(function(e){return"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),nt=function(e){var t=e.size,n=void 0===t?30:t;return l.a.createElement("svg",{height:n,width:n,viewBox:"0 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"})))},it=function(e){var t=e.model.options.selected;return l.a.createElement(et,{selected:t},l.a.createElement(tt,{name:"in"}),l.a.createElement(tt,{name:"out"}),l.a.createElement(nt,null))},at=function(){return l.a.createElement(nt,{size:30})};var rt,ot,lt,ct=new ie({type:"Buffer",name:"Buffer",description:"Simple buffer",group:"Logic gates",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.DATA_BITS);this.addInputPort("in",{bits:t}),this.addOutputPort("out",{bits:t})}step(e){return{out:e.in}}},widget:it,icon:at}),st=re.a.div(rt||(rt=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  background: ",";\n  border: 2px solid\n    ",";\n\n  transition: 100ms linear;\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),ut=re.a.button(ot||(ot=Object(ae.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  outline: none;\n\n  border: 2px solid rgba(0, 0, 0, 0.3);\n  background: linear-gradient(\n    225deg,\n    rgba(238, 0, 0, 1) 0%,\n    rgba(125, 20, 20, 1) 100%\n  );\n\n  :active {\n    border: 2px solid rgba(255, 255, 255, 0.5);\n    background: linear-gradient(\n      225deg,\n      rgba(125, 20, 20, 1) 0%,\n      rgba(238, 0, 0, 1) 100%\n    );\n  }\n"]))),dt=Object(re.a)(We)(lt||(lt=Object(ae.a)(["\n  position: absolute;\n  right: -7px;\n"]))),pt=function(e){var t=e.model,n=t.options.selected,i=Object(o.useRef)(),a=function(e){i.current&&!i.current.contains(e.target)&&t.onRelease()};return Object(o.useEffect)((function(){return document.addEventListener("mouseup",a),function(){return document.removeEventListener("mouseup",a)}})),l.a.createElement(st,{selected:n},l.a.createElement(dt,{name:"out"}),l.a.createElement(ut,{ref:i,onMouseDown:function(){return t.onClick()},onMouseUp:function(){return t.onRelease()}}))},ft=function(){return l.a.createElement(st,null,l.a.createElement(ut,{as:"div"}))};var mt,ht,gt,bt=new ie({type:"Button",name:"Button",description:"Simple button",group:"Input & output",configurations:[],model:class extends ${initialize(){this.addOutputPort("out")}onSimulationStart(){this.emit({out:0})}onClick(){this.emit({out:1})}onRelease(){this.emit({out:0})}},widget:pt,icon:ft}),vt=Object(re.a)(We)(mt||(mt=Object(ae.a)(["\n  position: absolute;\n  left: -7px;\n  top: 50%;\n  transform: translateY(-50%);\n"]))),yt=re.a.div(ht||(ht=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  background: ",";\n  box-shadow: 0 0 ","px black;\n  border: 2px solid\n    ",";\n  border-radius: 15px;\n"])),(function(e){return"rgba(62, 62, 62, ".concat(e.selected?.5:1,")")}),(function(e){return e.isActive?15:0}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Et=re.a.div(gt||(gt=Object(ae.a)(["\n  width: 8px;\n  height: 8px;\n\n  background: black;\n  border-radius: 4px;\n"]))),xt=function(e){var t=e.selected,n=e.isActive,i=e.children;return l.a.createElement(yt,{selected:t,isActive:n,"data-testid":"body"},l.a.createElement(Et,null),i)},kt=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(xt,{selected:n,isActive:t.isActive()},l.a.createElement(vt,{name:"in"}))},Ot=function(){return l.a.createElement(xt,{color:"#00ff00"})};var wt,Pt,jt=new ie({type:"Buzzer",name:"Buzzer",description:"Outputs sound at a give frequency",group:"Input & output",configurations:[{name:"FREQUENCY_HZ",type:"number",default:300,label:"Sound frequency (in Hertz)",min:0,max:2e4,validate:function(e){return e<this.min?"Minimum frequency is ".concat(this.min," Hz"):e>this.max?"Maximum frequency is ".concat(this.max," Hz"):null}},{name:"WAVEFORM",type:"select",default:"SINE",label:"Waveform",options:[{label:"Sine",value:"SINE"},{label:"Square",value:"SQUARE"},{label:"Sawtooth",value:"SAWTOOTH"},{label:"Triangle",value:"TRIANGLE"}]}],model:class extends ${initialize(e){this.frequencyHz=Number(e.FREQUENCY_HZ),this.waveform=e.WAVEFORM,this.addInputPort("in")}onSimulationStart(){this.audio=this.createAudio(this.frequencyHz,this.waveform),1===this.getInput()&&this.audio.play()}onSimulationPause(){this.audio.pause()}step(e){e.in?this.audio.play():this.audio.pause()}getInput(){const e=this.getPort("in").getValue();return e?e[0]:0}isActive(){return!!this.getInput()}},widget:kt,icon:Ot}),St=Object(re.a)(We)(wt||(wt=Object(ae.a)(["\n  position: absolute;\n  right: -7px;\n"]))),Ct=re.a.div(Pt||(Pt=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  background: ",";\n  border: 2px solid\n    ",";\n\n  transition: 100ms linear;\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),At=function(e){var t=e.isActive,n=e.color,i=e.periodMs,a=e.animateTransition;return l.a.createElement("svg",{width:30,height:30,viewBox:"0 0 7.9374997 7.9375003",strokeWidth:"1"},l.a.createElement("path",{"data-testid":"decoration",stroke:n,strokeWidth:.75,fill:"none",style:{transform:t?"none":"rotateX(180deg)",transformOrigin:"center",transition:a?"calc(".concat(i,"ms / 2 * 0.4) ease-in-out"):"none"},d:"M 1.8683545,4.4337648 V 6.14192 H 4.0062447 V 1.79558 h 2.0629007 v 1.7578226"}))},Tt=function(e){var t=e.model,n=t.options.selected,i=t.periodMs,a=t.getPort("out");return l.a.createElement(Ct,{selected:n},l.a.createElement(St,{name:"out"}),l.a.createElement(At,{isActive:t.isActive(),color:a.getColor(),periodMs:i,animateTransition:i>=500}))},Bt=function(){return l.a.createElement(Ct,null,l.a.createElement(At,{color:"var(--port-unconnected)"}))};var Lt,Mt,It=new ie({type:"Clock",name:"Clock",description:"Generates a clock signal",group:"Input & output",configurations:[{name:"FREQUENCY_HZ",type:"number",default:1,label:"Frequency (in Hz)",step:.25,min:.25,max:1e3,validate:function(e){return e<this.min?"Frequency should be greater than ".concat(this.min," Hz"):e>this.max?"Frequency should be lesser than ".concat(this.max," Hz"):e%this.step!==0?"Frequency should be divisible by ".concat(this.step," Hz"):null}},{name:"HIGH_DURATION",type:"number",default:1,label:"High duration (in cycles)",min:1,validate:function(e){return e<this.min?"High duration should be greater than ".concat(this.min):null}},{name:"LOW_DURATION",type:"number",default:1,label:"Low duration (in cycles)",min:1,validate:function(e){return e<this.min?"Low duration should be greater than ".concat(this.min):null}}],model:class extends ${initialize(e){this.addOutputPort("out"),this.configurations=e,this.output=0,this.emitInterval=null,this.periodMs=1e3/this.configurations.FREQUENCY_HZ,this.highCount=0,this.lowCount=0}onSimulationStart(){this.emit({out:this.output}),this.emitInterval=setInterval(()=>{const e=this.output;this.output=this.getNextOutput(),e!==this.output&&this.emit({out:this.output})},this.periodMs/2)}getNextOutput(){const{HIGH_DURATION:e,LOW_DURATION:t}=this.configurations;return 1===this.output?(this.highCount+=1,this.highCount===e?(this.highCount=0,0):1):(this.lowCount+=1,this.lowCount===t?(this.lowCount=0,1):0)}onSimulationPause(){clearInterval(this.emitInterval)}onSimulationStop(){clearInterval(this.emitInterval)}getOutput(){return this.getPort("out").getValue()||[0]}isActive(){return 1===this.getOutput()[0]}},widget:Tt,icon:Bt}),Nt=re.a.div(Lt||(Lt=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Dt=Object(re.a)(We)(Mt||(Mt=Object(ae.a)(["\n  position: absolute;\n  ","\n"])),(function(e){return"control"===e.name?"bottom: -5px;":"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),zt=function(e){var t=e.size,n=void 0===t?30:t;return l.a.createElement("svg",{height:n,width:n,viewBox:"0 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"}),l.a.createElement("line",{x1:"22.5",y1:"32.5",x2:"22.5",y2:"45"})))},Rt=function(e){var t=e.model.options.selected;return l.a.createElement(Nt,{selected:t},l.a.createElement(Dt,{name:"control"}),l.a.createElement(Dt,{name:"in"}),l.a.createElement(Dt,{name:"out"}),l.a.createElement(zt,null))},Ft=function(){return l.a.createElement(zt,{size:30})};var _t,Ht,Wt=new ie({type:"ControlledBuffer",name:"Controlled buffer",description:"Useful for I/O managing",group:"Logic gates",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.DATA_BITS);this.addInputPort("control"),this.addInputPort("in",{bits:t}),this.addOutputPort("out",{bits:t})}step(e){return 0===e.control?{out:"x"}:{out:e.in}}stepFloating(e){return"x"===e.control[0]?{out:"e"}:0===e.control[0]?{out:"x"}:{out:e.in}}stepError(e){return this.stepFloating(e)}},widget:Rt,icon:Ft}),Ut=re.a.div(_t||(_t=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 45px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Vt=Object(re.a)(We)(Ht||(Ht=Object(ae.a)(["\n  position: absolute;\n  ","\n"])),(function(e){return"control"===e.name?"bottom: -5px; left: 10px;":"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),Yt=function(e){var t=e.size,n=void 0===t?30:t;return l.a.createElement("svg",{height:n,width:n+15,viewBox:"11 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"}),l.a.createElement("circle",{r:"8",cy:"22",cx:"51"}),l.a.createElement("line",{x1:"22.5",y1:"32.5",x2:"22.5",y2:"45"})))},Xt=function(e){var t=e.model.options.selected;return l.a.createElement(Ut,{selected:t},l.a.createElement(Vt,{name:"control"}),l.a.createElement(Vt,{name:"in"}),l.a.createElement(Vt,{name:"out"}),l.a.createElement(Yt,null))},Kt=function(){return l.a.createElement(Yt,{size:30})};var Zt,Gt,qt=new ie({type:"ControlledInverter",name:"Controlled inverter",description:"Useful for I/O managing",group:"Logic gates",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.DATA_BITS);this.addInputPort("control"),this.addInputPort("in",{bits:t}),this.addOutputPort("out",{bits:t})}step(e){return 0===e.control?{out:"x"}:{out:~e.in}}stepFloating(e){return"x"===e.control[0]?{out:"e"}:0===e.control[0]?{out:"x"}:{out:e.in.map(e=>0===e?1:1===e?0:"x"===e?"e":e)}}stepError(e){return this.stepFloating(e)}},widget:Xt,icon:Kt}),Jt=re.a.div(Zt||(Zt=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  font-size: 12px;\n\n  transition: 100ms linear;\n\n  background: ",";\n\n  border: 2px solid\n    ",";\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Qt=Object(re.a)(We)(Gt||(Gt=Object(ae.a)(["\n  position: absolute;\n  ","\n"])),(function(e){return"in"===e.name?"left: -7px;":"out"===e.name?"right: -7px;":""})),$t=function(e){var t=e.model.options.selected;return l.a.createElement(Jt,{selected:t},l.a.createElement(Qt,{name:"in"}),l.a.createElement(Qt,{name:"out"}),"++")},en=function(){return l.a.createElement(Jt,null,"++")};var tn,nn,an=new ie({type:"Counter",name:"Counter",description:"Counts every input rising or falling edge",group:"Miscellaneous",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"COUNT_ON",type:"select",default:"rising",label:"Count on",options:[{label:"Rising edge",value:"rising"},{label:"Falling edge",value:"falling"}]},{name:"START_AT",type:"number",default:0,label:"Start value at",min:0,max:R[16],validate:function(e,t){var n=Number(t.DATA_BITS);return e>R[n]?"Maximum value for ".concat(n,"-bit is ").concat(R[n]):null}},{name:"WRAP_AT",type:"number",default:0,label:"Wrap value at (0 means no wrap)",min:0,max:R[16],validate:function(e,t){var n=Number(t.DATA_BITS),i=Number(t.START_AT);return e>R[n]?"Maximum value for ".concat(n,"-bit is ").concat(R[n]):0!==e&&e<=i?"Value must be greater than ".concat(i," (start value)"):null}},{name:"STEP_VALUE",type:"number",default:1,label:"Step value",min:1,max:R[16],validate:function(e,t){var n=Number(t.DATA_BITS);return e>R[n]?"Maximum value for ".concat(n,"-bit is ").concat(R[n]):null}}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.countOnRising="rising"===e.COUNT_ON,this.startAt=e.START_AT,this.wrapAt=e.WRAP_AT||2**this.dataBits,this.stepValue=e.STEP_VALUE,this.addInputPort("in"),this.addOutputPort("out",{bits:this.dataBits}),this.current=this.startAt}isRisingEdge(e){return this.countOnRising?e.in.risingEdge:e.in.fallingEdge}step(e,t){return this.isRisingEdge(t)?(this.current+=this.stepValue,this.current>=this.wrapAt&&(this.current=this.startAt),{out:this.current}):{out:this.current}}},widget:$t,icon:en}),rn=Object(re.a)(We)(tn||(tn=Object(ae.a)(["\n  position: absolute;\n  ",";\n  ",";\n"])),(function(e){return"in"===e.name?"left: -5px;":"selection"===e.name?"left: 10px;":"right: -5px;"}),(function(e){return"selection"===e.name?"bottom: -5px;":"top: ".concat((e.position||0)-5,"px;")})),on=re.a.div(nn||(nn=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: ","px;\n"])),(function(e){return 15*(e.outputNumber+2)})),ln=function(e){var t=e.selected,n=e.outputNumber,i=e.icon,a=15*(n+2);return l.a.createElement("svg",{viewBox:"0 0 30 ".concat(a),height:i?30:a,width:i?15:30,fill:t?"var(--body-selected)":"var(--body-unselected)",stroke:t?"var(--link-selected)":"var(--link-16-bit-color)",strokeLinecap:"round",strokeWidth:"2"},l.a.createElement("path",{d:"M0,15 L0,".concat(a-15," L30,").concat(a," L30,0 Z")}),l.a.createElement("path",{d:"M15,".concat(a-7.5," L15,").concat(a)}))},cn=function(e){var t=e.model,n=t.options.selected,i=Object.values(t.getOutputPorts()),a=t.outputNumber;return l.a.createElement(on,{outputNumber:a},l.a.createElement(rn,{name:"in",position:15*(a+2)/2}),l.a.createElement(rn,{name:"selection"}),i.map((function(e,t){return l.a.createElement(rn,{key:e.getName(),name:e.getName(),position:15*(t+1)})})),l.a.createElement(ln,{selected:n,outputNumber:a}))},sn=function(){return l.a.createElement(ln,{dataBits:1,outputNumber:2,icon:!0})};var un,dn,pn=new ie({type:"Demux",name:"Demux",description:"Demultiplexer",group:"Plexers",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bits",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"OUTPUT_NUMBER",type:"select",default:"2",label:"Number of outputs",options:[{label:"2",value:"2"},{label:"4",value:"4"},{label:"16",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.DATA_BITS);this.outputNumber=Number(e.OUTPUT_NUMBER),this.addInputPort("in",{bits:t}),this.addInputPort("selection",{bits:Math.log2(this.outputNumber)});for(let n=0;n<this.outputNumber;n+=1)this.addOutputPort("out"+n,{bits:t})}step(e){return{...Object.fromEntries([...new Array(this.outputNumber)].map((e,t)=>["out"+t,0])),["out"+e.selection]:e.in}}},widget:cn,icon:sn}),fn=Object(re.a)(We)(un||(un=Object(ae.a)(["\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  transform: translateX(-50%);\n"]))),mn=re.a.div(dn||(dn=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: 30px;\n"]))),hn=function(e){var t=e.selected,n=e.dataBits,i=void 0===n?1:n;return l.a.createElement("svg",{viewBox:"0 0 30 30",width:"30",height:"30",fill:"none",stroke:t?"var(--value-5)":"var(--value-0)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("polyline",{points:"15 0 15 15",strokeWidth:"var(--link-".concat(i,"-bit-width)"),strokeLinecap:"butt"}),l.a.createElement("polyline",{points:"7 15 23 15"}),l.a.createElement("polyline",{points:"7 15 2 25"}),l.a.createElement("polyline",{points:"15 15 9 25"}),l.a.createElement("polyline",{points:"23 15 17 25"}))},gn=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(mn,null,l.a.createElement(hn,{selected:n,dataBits:t.dataBits}),l.a.createElement(fn,{name:"out"}))},bn=function(){return l.a.createElement(hn,null)};var vn,yn,En,xn,kn=new ie({type:"Ground",name:"Ground",description:"Ground (GND) component",group:"Wiring",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.addOutputPort("out",{bits:this.dataBits})}onSimulationStart(){this.emit({out:0})}},widget:gn,icon:bn}),On={1:{width:30,height:30},2:{width:60,height:30},4:{width:120,height:30},8:{width:120,height:60},16:{width:240,height:60}},wn={0:"var(--value-off)",1:"var(--value-on)",x:"var(--value-floating)"},Pn={0:"var(--value-on)",1:"var(--value-off)",x:"black"},jn=Object(re.a)(We)(vn||(vn=Object(ae.a)(["\n  position: absolute;\n  right: -7px;\n  top: 50%;\n  transform: translateY(-50%);\n"]))),Sn=re.a.div(yn||(yn=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: ","px;\n  height: ","px;\n\n  background: ",";\n  border: 2px solid\n    ",";\n  border-radius: 20px;\n"])),(function(e){return On[e.dataBits].width}),(function(e){return On[e.dataBits].height}),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Cn=re.a.div(En||(En=Object(ae.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  align-items: center;\n\n  max-width: 215px;\n"]))),An=re.a.button(xn||(xn=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 20px;\n  height: 20px;\n  margin: 2px;\n\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 100%;\n\n  color: ",";\n  font-family: monospace;\n\n  transition: 100ms linear;\n"])),(function(e){return wn[e.value]}),(function(e){return Pn[e.value]}),(function(e){return 1===e.value?"black":"white"})),Tn=function(e){var t=e.model,n=t.options.selected,i=t.configurations.DATA_BITS,a=Number(i);return l.a.createElement(Sn,{selected:n,dataBits:a},l.a.createElement(Cn,null,Object(E.a)(new Array(a)).map((function(e,n){var i=t.getBitAt(n);return l.a.createElement(An,{key:n,onClick:function(){return t.onClick(n)},value:i},i)}))),l.a.createElement(jn,{name:"out"}))},Bn=function(){return l.a.createElement(Sn,{dataBits:1},l.a.createElement(An,{as:"div",value:0}))};var Ln,Mn,In=new ie({type:"Input",name:"Input pin",description:"Simple input pin",group:"Input & output",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"THREE_STATE",type:"select",default:"false",label:"Three state",options:[{label:"Yes",value:"true"},{label:"No",value:"false"}]}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.threeState="true"===e.THREE_STATE,this.addOutputPort("out",{bits:this.dataBits})}onSimulationStart(){this.emit({out:0})}nextValue(e){return"x"===e?0:0===e?1:this.threeState?"x":0}onClick(e){this.emit({out:this.getOutput().map((t,n)=>n===e?this.nextValue(t):t)})}getOutput(){return this.getPort("out").getValue()||Array(this.dataBits).fill(0)}getBitAt(e){return this.getOutput()[e]}},widget:Tn,icon:Bn}),Nn=Object(re.a)(We)(Ln||(Ln=Object(ae.a)(["\n  position: absolute;\n\n  ","\n"])),(function(e){return"out"===e.name?"right: -5px; top: -5px":"left: -5px; bottom: ".concat(e.position-5,"px;")})),Dn=re.a.div(Mn||(Mn=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: ","px;\n"])),(function(e){return 15*e.dataBits})),zn=function(e){var t=e.selected,n=e.dataBits,i=15*n;return l.a.createElement("svg",{viewBox:"0 0 30 ".concat(i),height:i,width:"30",fill:"none",stroke:t?"var(--link-selected)":"var(--link-16-bit-color)",strokeLinecap:"butt",strokeWidth:"2"},l.a.createElement("path",{strokeWidth:"4",d:"M30,0 L15,15 L15,".concat(i)}),Object(E.a)(new Array(n)).map((function(e,t){return t})).map((function(e){var t=i-15*e;return l.a.createElement("path",{key:e,d:"M15,".concat(t," L0,").concat(t)})})))},Rn=function(e){var t=e.model,n=t.options.selected,i=t.configurations.DATA_BITS,a=Number(i),r=Object.values(t.getInputPorts());return l.a.createElement(Dn,{dataBits:a},r.map((function(e,t){return l.a.createElement(Nn,{key:e.getName(),name:e.getName(),position:15*t})})),l.a.createElement(Nn,{name:"out"}),l.a.createElement(zn,{selected:n,dataBits:a}))},Fn=function(){return l.a.createElement(zn,{dataBits:2})};var _n,Hn,Wn=new ie({type:"Joiner",name:"Joiner",description:"Joins N 1 bit wires into one N bit wire",group:"Wiring",configurations:[{name:"DATA_BITS",type:"select",default:"2",label:"Output data bits",options:[{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){this.bits=Number(e.DATA_BITS);for(let t=0;t<this.bits;t+=1)this.addInputPort("in"+t);this.addOutputPort("out",{bits:this.bits})}step(e){return{out:Object.values(e).map(e=>e.asArray(1)[0]).map((e,t,n)=>n[n.length-t-1])}}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:Rn,icon:Fn}),Un=Object(re.a)(We)(_n||(_n=Object(ae.a)(["\n  position: absolute;\n  left: -7px;\n  top: 50%;\n  transform: translateY(-50%);\n"]))),Vn=re.a.div(Hn||(Hn=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: 30px;\n\n  background: ",";\n  box-shadow: 0 0 ","px\n    ",";\n  border: 2px solid\n    ",";\n  border-radius: 15px;\n"])),(function(e){return"".concat(e.color).concat(e.selected?"80":"ff")}),(function(e){return e.isActive?15:0}),(function(e){return e.color}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Yn=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(Vn,{selected:n,color:t.getColor(),isActive:t.isActive(),"data-testid":"shape"},l.a.createElement(Un,{name:"in"}))},Xn=function(){return l.a.createElement(Vn,{color:"#00ff00"})};var Kn,Zn,Gn=new ie({type:"Led",name:"LED",description:"Simple LED component",group:"Input & output",configurations:[{name:"ACTIVE_WHEN",type:"select",default:"HIGH",label:"Active when",options:[{label:"High",value:"HIGH"},{label:"Low",value:"LOW"}]},{name:"ON_COLOR",type:"select",default:"#00ff00",label:"On color",options:[{label:"Red",value:"#ff0000"},{label:"Green",value:"#00ff00"},{label:"Blue",value:"#0000ff"},{label:"White",value:"#ffffff"},{label:"Black",value:"#000000"}]},{name:"OFF_COLOR",type:"select",default:"#000000",label:"Off color",options:[{label:"Red",value:"#ff0000"},{label:"Green",value:"#00ff00"},{label:"Blue",value:"#0000ff"},{label:"White",value:"#ffffff"},{label:"Black",value:"#000000"}]}],model:class extends ${initialize(e){this.activeWhen=e.ACTIVE_WHEN,this.colors={on:e.ON_COLOR,off:e.OFF_COLOR},this.addInputPort("in")}getInput(){const e=this.getPort("in").getValue();return e?e[0]:0}isActive(){const e=this.getInput();return"HIGH"===this.activeWhen?0!==e:0===e}getColor(){return this.isActive()?this.colors.on:this.colors.off}},widget:Yn,icon:Xn}),qn=Object(re.a)(We)(Kn||(Kn=Object(ae.a)(["\n  position: absolute;\n  ",";\n  ",";\n"])),(function(e){return"out"===e.name?"right: -5px;":"selection"===e.name?"left: 10px;":"left: -5px;"}),(function(e){return"selection"===e.name?"bottom: -5px;":"top: ".concat((e.position||0)-5,"px;")})),Jn=re.a.div(Zn||(Zn=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: ","px;\n"])),(function(e){return 15*(e.inputNumber+2)})),Qn=function(e){var t=e.selected,n=e.inputNumber,i=e.icon,a=15*(n+2);return l.a.createElement("svg",{viewBox:"0 0 30 ".concat(a),height:i?30:a,width:i?15:30,fill:t?"var(--body-selected)":"var(--body-unselected)",stroke:t?"var(--link-selected)":"var(--link-16-bit-color)",strokeLinecap:"round",strokeWidth:"2"},l.a.createElement("path",{d:"M0,0 L0,".concat(a," L30,").concat(a-15," L30,15 Z")}),l.a.createElement("path",{d:"M15,".concat(a-7.5," L15,").concat(a)}))},$n=function(e){var t=e.model,n=t.options.selected,i=Object.values(t.getInputPorts()),a=i.length;return l.a.createElement(Jn,{inputNumber:a},i.map((function(e,t){return l.a.createElement(qn,{key:e.getName(),name:e.getName(),position:15*(t+1)})})),l.a.createElement(qn,{name:"out",position:15*(a+1)/2}),l.a.createElement(Qn,{selected:n,inputNumber:a}))},ei=function(){return l.a.createElement(Qn,{dataBits:1,inputNumber:2,icon:!0})};var ti,ni,ii=new ie({type:"Mux",name:"Mux",description:"Multiplexer",group:"Plexers",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bits",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"INPUT_NUMBER",type:"select",default:"2",label:"Number of inputs",options:[{label:"2",value:"2"},{label:"4",value:"4"},{label:"16",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.DATA_BITS),n=Number(e.INPUT_NUMBER);for(let i=0;i<n;i+=1)this.addInputPort("in"+i,{bits:t});this.addInputPort("selection",{bits:Math.log2(n)}),this.addOutputPort("out",{bits:t})}step(e){return{out:e["in"+e.selection]}}},widget:$n,icon:ei}),ai=re.a.div(ti||(ti=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),ri=Object(re.a)(We)(ni||(ni=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),oi=function(e){var t=e.size,n=void 0===t?90:t;return l.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",{transform:"scale(0.26458333)"},l.a.createElement("path",{d:"m 2,2 v 43 a 42.999999,42.999999 0 0 0 0,0.271484 V 88 H 45 A 42.999999,42.999999 0 0 0 88,45 42.999999,42.999999 0 0 0 45,2 h -0.271484 z"}),l.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"})))},li=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(ai,{selected:t.isSelected()},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i}),n.map((function(e,t){return l.a.createElement(ri,{key:e.getName(),name:e.getName(),position:i[t]})})),l.a.createElement(ri,{name:"out"}),l.a.createElement(oi,null))},ci=function(){return l.a.createElement(oi,{size:30})};var si,ui,di,pi=new ie({type:"Nand",name:"Nand",description:'Logic "not and" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.INPUT_PORTS_NUMBER);this.dataBits=Number(e.DATA_BITS);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return e.some(e=>0===e)?1:e.every(e=>1===e)?0:"e"}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit)}}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:li,icon:ci}),fi=re.a.div(si||(si=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),mi=re.a.div(ui||(ui=Object(ae.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"])),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),hi=Object(re.a)(We)(di||(di=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),gi=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,a=void 0===i?[]:i;return l.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",{transform:"scale(0.26458333)"},l.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 45 C 68.748245,88.000001 88.005576,45.650843 88,45 87.994195,44.322314 68.748245,1.9999989 45,2 h -0.271484 z"}),l.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"})),l.a.createElement("g",{strokeWidth:.5},a.includes(1)&&l.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),a.includes(2)&&l.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),a.includes(3)&&l.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),a.includes(4)&&l.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),a.includes(5)&&l.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},bi=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(fi,{selected:t.options.selected},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i,offsetX:12}),n.map((function(e,n){return l.a.createElement(o.Fragment,{key:e.getName()},l.a.createElement(hi,{name:e.getName(),position:i[n]}),(i[n]<1||i[n]>5)&&l.a.createElement(mi,{selected:t.isSelected(),position:i[n]}))})),l.a.createElement(hi,{name:"out"}),l.a.createElement(gi,{portPositions:i}))},vi=function(){return l.a.createElement(gi,{size:30})};var yi,Ei,xi=new ie({type:"Nor",name:"Nor",description:'Logic "not or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.INPUT_PORTS_NUMBER);this.dataBits=Number(e.DATA_BITS);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return e.every(e=>0===e)?1:e.some(e=>1===e)?0:"e"}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit)}}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:bi,icon:vi}),ki=re.a.div(yi||(yi=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 45px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Oi=Object(re.a)(We)(Ei||(Ei=Object(ae.a)(["\n  position: absolute;\n  ","\n"])),(function(e){return"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),wi=function(e){var t=e.size,n=void 0===t?30:t;return l.a.createElement("svg",{height:n,width:n+15,viewBox:"11 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"}),l.a.createElement("circle",{r:"8",cy:"22",cx:"51"})))},Pi=function(e){var t=e.model.options.selected;return l.a.createElement(ki,{selected:t},l.a.createElement(Oi,{name:"in"}),l.a.createElement(Oi,{name:"out"}),l.a.createElement(wi,null))},ji=function(){return l.a.createElement(wi,{size:30})};var Si,Ci,Ai,Ti=new ie({type:"Not",name:"Not",description:"Negation component",group:"Logic gates",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.addInputPort("in",{bits:this.dataBits}),this.addOutputPort("out",{bits:this.dataBits})}step(e){return{out:e.in.asArray(this.dataBits).map(e=>1===e?0:1)}}},widget:Pi,icon:ji}),Bi=re.a.div(Si||(Si=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Li=re.a.div(Ci||(Ci=Object(ae.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"])),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),Mi=Object(re.a)(We)(Ai||(Ai=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Ii=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,a=void 0===i?[]:i;return l.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 45 C 68.748245,88.000001 88.005576,45.650843 88,45 87.994195,44.322314 68.748245,1.9999989 45,2 h -0.271484 z",transform:"scale(0.26458333)"})),l.a.createElement("g",{strokeWidth:.5},a.includes(1)&&l.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),a.includes(2)&&l.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),a.includes(3)&&l.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),a.includes(4)&&l.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),a.includes(5)&&l.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},Ni=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(Bi,{selected:t.options.selected},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i,offsetX:12}),n.map((function(e,n){return l.a.createElement(o.Fragment,{key:e.getName()},l.a.createElement(Mi,{name:e.getName(),position:i[n]}),(i[n]<1||i[n]>5)&&l.a.createElement(Li,{selected:t.isSelected(),position:i[n]}))})),l.a.createElement(Mi,{name:"out"}),l.a.createElement(Ii,{portPositions:i}))},Di=function(){return l.a.createElement(Ii,{size:30})};var zi,Ri,Fi,_i,Hi,Wi,Ui=new ie({type:"Or",name:"Or",description:'Logic "or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){const t=Number(e.INPUT_PORTS_NUMBER);this.dataBits=Number(e.DATA_BITS);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return e.every(e=>0===e)?0:e.some(e=>1===e)?1:"e"}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit)}}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:Ni,icon:Di}),Vi={1:{width:30,height:30},2:{width:60,height:30},4:{width:120,height:30},8:{width:120,height:60},16:{width:240,height:60}},Yi={0:"var(--value-off)",1:"var(--value-on)",x:"var(--value-floating)",e:"var(--value-error)"},Xi={0:"var(--value-on)",1:"var(--value-off)",x:"black",e:"black"},Ki=Object(re.a)(We)(zi||(zi=Object(ae.a)(["\n  position: absolute;\n  left: -7px;\n  top: 50%;\n  transform: translateY(-50%);\n"]))),Zi=re.a.div(Ri||(Ri=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: ","px;\n  height: ","px;\n\n  background: ",";\n  border: 2px solid\n    ",";\n  border-radius: 20px;\n"])),(function(e){return"BITS"===e.format?Vi[e.dataBits].width:Vi[4].width}),(function(e){return"BITS"===e.format?Vi[e.dataBits].height:Vi[4].height}),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Gi=re.a.span(Fi||(Fi=Object(ae.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  align-items: center;\n  font-family: monospace;\n\n  max-width: 215px;\n"]))),qi=re.a.div(_i||(_i=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 20px;\n  height: 20px;\n  margin: 2px;\n\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 100%;\n\n  color: ",";\n  font-family: monospace;\n\n  transition: 100ms linear;\n"])),(function(e){return Yi[e.value]}),(function(e){return Xi[e.value]}),(function(e){return 1===e.value?"black":"white"})),Ji=re.a.span(Hi||(Hi=Object(ae.a)(["\n  color: var(--value-error);\n  font-weight: bold;\n  font-family: monospace;\n"]))),Qi=re.a.span(Wi||(Wi=Object(ae.a)(["\n  color: var(--value-floating);\n  font-weight: bold;\n  font-family: monospace;\n"]))),$i=function(e){var t=e.model,n=t.options.selected,i=t.configurations,a=i.OUTPUT_FORMAT,r=i.DATA_BITS,o=Number(r);return l.a.createElement(Zi,{selected:n,format:a,dataBits:o},l.a.createElement(Gi,{"data-testid":"pin-container"},"BITS"===a?function(e){var t=e.configurations.DATA_BITS,n=Number(t);return Object(E.a)(new Array(n)).map((function(t,n){var i=e.getBitAt(n);return l.a.createElement(qi,{key:n,value:i},i)}))}(t):function(e,t){var n=e.asNumber();return"e"===n?l.a.createElement(Ji,null,"(error)"):"x"===n?l.a.createElement(Qi,null,"(floating)"):"DECIMAL"===t?n:"HEXADECIMAL"===t?"0x".concat(n.toString(16).padStart(4,"0")):""}(t.getInput(),a)),l.a.createElement(Ki,{name:"in"}))},ea=function(){return l.a.createElement(Zi,{dataBits:1,format:"BITS"},l.a.createElement(qi,{as:"div",value:0}))};var ta,na,ia=new ie({type:"Output",name:"Output pin",description:"Simple output pin",group:"Input & output",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"OUTPUT_FORMAT",type:"select",default:"BITS",label:"Output format",options:[{label:"Bit by bit",value:"BITS"},{label:"Decimal number",value:"DECIMAL"},{label:"Hexadecimal number",value:"HEXADECIMAL"}]}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.addInputPort("in",{bits:this.dataBits})}getInput(){return this.getPort("in").getValue()||new Array(this.dataBits).fill(0)}getBitAt(e){return this.getInput()[e]}},widget:$i,icon:ea}),aa=Object(re.a)(We)(ta||(ta=Object(ae.a)(["\n  position: absolute;\n  left: 50%;\n  bottom: -5px;\n  transform: translateX(-50%);\n"]))),ra=re.a.div(na||(na=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: 30px;\n"]))),oa=function(e){var t=e.selected,n=e.dataBits,i=void 0===n?1:n;return l.a.createElement("svg",{viewBox:"0 0 30 30",width:"30",height:"30",fill:"none",stroke:t?"var(--value-5)":"var(--value-10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("polyline",{points:"15 15 15 30",strokeWidth:"var(--link-".concat(i,"-bit-width)"),strokeLinecap:"butt"}),l.a.createElement("polyline",{points:"7 15 15 0 23 15 7 15",fill:"var(--value-2)",fillOpacity:t?"var(--unselected-opacity)":"var(--selected-opacity)"}))},la=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(ra,null,l.a.createElement(oa,{selected:n,dataBits:t.dataBits}),l.a.createElement(aa,{name:"out"}))},ca=function(){return l.a.createElement(oa,null)};var sa,ua,da,pa,fa,ma,ha,ga,ba,va=new ie({type:"Power",name:"Power",description:"Power (VCC) component",group:"Wiring",configurations:[{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){this.dataBits=Number(e.DATA_BITS),this.addOutputPort("out",{bits:this.dataBits})}onSimulationStart(){this.emit({out:65535})}},widget:la,icon:ca}),ya=re.a.div(sa||(sa=Object(ae.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n  font-size: 10px;\n\n  background: var(--body-unselected);\n  border: 1px solid var(--border-unselected);\n"]))),Ea=function(){return l.a.createElement(ya,null,"RAM")};var xa,ka,Oa,wa,Pa,ja,Sa,Ca,Aa,Ta=re.a.div(ua||(ua=Object(ae.a)(["\n  position: relative;\n\n  width: 180px;\n  height: 150px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background: ",";\n  border: 1px solid\n    ",";\n\n  transition: 100ms linear;\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Ba=re.a.div(da||(da=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n\n  overflow: hidden;\n  background: white;\n  border: 2px solid #c9c9c9;\n\n  width: 80%;\n  height: 112px;\n  font-size: 10px;\n"]))),La=re.a.div(pa||(pa=Object(ae.a)(["\n  display: flex;\n  border-bottom: 1px solid #c9c9c9;\n  padding: 0 4px;\n"]))),Ma=re.a.div(fa||(fa=Object(ae.a)(["\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 8px;\n  border-color: ",";\n  margin: auto 4px auto -4px;\n"])),(function(e){var t=e.isSelected;return"transparent transparent transparent ".concat(t?"#f44336":"transparent")})),Ia=re.a.div(ma||(ma=Object(ae.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n"]))),Na=re.a.span(ha||(ha=Object(ae.a)(["\n  margin-right: 4px;\n  padding: 1px 4px;\n  height: fit-content;\n\n  font-family: monospace;\n  font-size: 8px;\n  color: white;\n\n  background: #2642a0;\n  border-radius: 2px;\n"]))),Da=re.a.span(ga||(ga=Object(ae.a)(["\n  padding: 4px;\n"]))),za=Object(re.a)(We)(ba||(ba=Object(ae.a)(["\n  position: absolute;\n\n  ","\n"])),(function(e){return"clock"===e.name?"bottom: -5px":"load"===e.name?"bottom: -5px; right: calc(50% - 20px)":"clear"===e.name?"bottom: -5px; right: calc(50% - 35px)":"select"===e.name?"bottom: -5px; right: calc(50% - 50px)":"address"===e.name?"left: -5px":"data"===e.name?"right: -5px":""})),Ra=function(e){var t=e.model,n=t.getMemory(),i=t.getAddress(),a=function(e,t){return t<=1?[0,5]:t>=e.length-2?[e.length-5,e.length]:[t-2,t+3]}(n,i);return l.a.createElement(Ta,{selected:t.isSelected()},l.a.createElement(za,{name:"clock"}),l.a.createElement(za,{name:"load"}),l.a.createElement(za,{name:"address"}),l.a.createElement(za,{name:"data"}),l.a.createElement(za,{name:"clear"}),l.a.createElement(za,{name:"select"}),l.a.createElement(Ba,null,n.slice.apply(n,Object(E.a)(a)).map((function(e,t){var n=t+a[0],r="0x".concat(n.toString(16).padStart(2,"0"));return l.a.createElement(La,{key:r},l.a.createElement(Ma,{isSelected:n===i}),l.a.createElement(Ia,null,l.a.createElement(Na,null,r),l.a.createElement(Da,{isSelected:!0},e)))}))))},Fa=new ie({type:"Ram",name:"RAM",description:"Random access memory",group:"Memory",configurations:[{name:"DATA_WIDTH",type:"select",default:"1",label:"Data width",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"ADDRESS_WIDTH",type:"select",default:"1",label:"Address width",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"}]},{name:"CONTENT",type:"binary",label:"Initial content"}],model:class extends ${initialize(e){this.dataWidth=Number(e.DATA_WIDTH),this.addressWidth=Number(e.ADDRESS_WIDTH),this.memory=(e.CONTENT||"").parseBinary(this.dataWidth,2**this.addressWidth),this.addInputPort("clock",{floating:0}),this.addInputPort("load",{floating:1}),this.addInputPort("address",{bits:this.addressWidth,floating:0}),this.addInputPort("clear",{floating:0}),this.addInputPort("select",{floating:1}),this.addOutputPort("data",{bits:this.dataWidth})}clearMemory(){this.memory=Array(2**this.addressWidth).fill(0)}getMemory(){return this.memory}getAddress(){return this.select?(this.currentAddress||0).asNumber():0}step(e,t){return this.currentAddress=e.address,this.select=e.select,e.clear&&this.clearMemory(),e.select?e.load?{data:this.memory[e.address]}:(t.clock.risingEdge&&!e.clear&&(this.memory[e.address]=this.getPort("data").getWireValue().asNumber()),{data:"x"}):{data:"x"}}},widget:Ra,icon:Ea}),_a=re.a.div(xa||(xa=Object(ae.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n  font-size: 10px;\n\n  background: var(--body-unselected);\n  border: 1px solid var(--border-unselected);\n"]))),Ha=function(){return l.a.createElement(_a,null,"ROM")};var Wa,Ua,Va=re.a.div(ka||(ka=Object(ae.a)(["\n  position: relative;\n\n  width: 180px;\n  height: 150px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background: ",";\n  border: 1px solid\n    ",";\n\n  transition: 100ms linear;\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Ya=re.a.div(Oa||(Oa=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n\n  overflow: hidden;\n  background: white;\n  border: 2px solid #c9c9c9;\n\n  width: 80%;\n  height: 112px;\n  font-size: 10px;\n"]))),Xa=re.a.div(wa||(wa=Object(ae.a)(["\n  display: flex;\n  border-bottom: 1px solid #c9c9c9;\n  padding: 0 4px;\n"]))),Ka=re.a.div(Pa||(Pa=Object(ae.a)(["\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 8px;\n  border-color: ",";\n  margin: auto 4px auto -4px;\n"])),(function(e){var t=e.isSelected;return"transparent transparent transparent ".concat(t?"#f44336":"transparent")})),Za=re.a.div(ja||(ja=Object(ae.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ga=re.a.span(Sa||(Sa=Object(ae.a)(["\n  margin-right: 4px;\n  padding: 1px 4px;\n  height: fit-content;\n\n  font-family: monospace;\n  font-size: 8px;\n  color: white;\n\n  background: #2642a0;\n  border-radius: 2px;\n"]))),qa=re.a.span(Ca||(Ca=Object(ae.a)(["\n  padding: 4px;\n"]))),Ja=Object(re.a)(We)(Aa||(Aa=Object(ae.a)(["\n  position: absolute;\n\n  ","\n"])),(function(e){return"select"===e.name?"bottom: -5px; right: calc(50% - 50px)":"address"===e.name?"left: -5px":"data"===e.name?"right: -5px":""})),Qa=function(e){var t=e.model,n=t.getMemory(),i=t.getAddress(),a=function(e,t){return t<=1?[0,5]:t>=e.length-2?[e.length-5,e.length]:[t-2,t+3]}(n,i);return l.a.createElement(Va,{selected:t.isSelected()},l.a.createElement(Ja,{name:"address"}),l.a.createElement(Ja,{name:"data"}),l.a.createElement(Ja,{name:"select"}),l.a.createElement(Ya,null,n.slice.apply(n,Object(E.a)(a)).map((function(e,t){var n=t+a[0],r="0x".concat(n.toString(16).padStart(2,"0"));return l.a.createElement(Xa,{key:r},l.a.createElement(Ka,{isSelected:n===i}),l.a.createElement(Za,null,l.a.createElement(Ga,null,r),l.a.createElement(qa,{isSelected:!0},e)))}))))},$a=new ie({type:"Rom",name:"ROM",description:"Read only memory",group:"Memory",configurations:[{name:"DATA_WIDTH",type:"select",default:"1",label:"Data width",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"ADDRESS_WIDTH",type:"select",default:"1",label:"Address width",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"}]},{name:"CONTENT",type:"binary",label:"Initial content"}],model:class extends ${initialize(e){this.dataWidth=Number(e.DATA_WIDTH),this.addressWidth=Number(e.ADDRESS_WIDTH),this.memory=(e.CONTENT||"").parseBinary(this.dataWidth,2**this.addressWidth),this.addInputPort("address",{bits:this.addressWidth,floating:0}),this.addInputPort("select",{floating:1}),this.addOutputPort("data",{bits:this.dataWidth})}getMemory(){return this.memory}getAddress(){return this.select?(this.currentAddress||0).asNumber():0}step(e){return this.currentAddress=e.address,this.select=e.select,e.select?{data:this.memory[e.address]}:{data:"x"}}},widget:Qa,icon:Ha}),er=Object(re.a)(We)(Wa||(Wa=Object(ae.a)(["\n  position: absolute;\n  ",";\n  bottom: ","px;\n"])),(function(e){return"in"===e.name?"left: -5px":"right: -5px"}),(function(e){return(e.position||0)-5})),tr=re.a.div(Ua||(Ua=Object(ae.a)(["\n  position: relative;\n\n  width: 30px;\n  height: ","px;\n"])),(function(e){return 15*e.dataBits})),nr=function(e){var t=e.selected,n=e.dataBits,i=15*n;return l.a.createElement("svg",{viewBox:"0 0 30 ".concat(i),height:i,width:"30",fill:"none",stroke:t?"var(--link-selected)":"var(--link-16-bit-color)",strokeLinecap:"butt",strokeWidth:"2"},l.a.createElement("path",{strokeWidth:"4",d:"M0,".concat(i," L15,").concat(i-15," L15,0")}),Object(E.a)(new Array(n)).map((function(e,t){return t+1})).map((function(e){var t=i-15*e;return l.a.createElement("path",{key:e,d:"M15,".concat(t," L30,").concat(t)})})))},ir=function(e){var t=e.model,n=t.options.selected,i=t.configurations.DATA_BITS,a=Number(i),r=Object.values(t.getOutputPorts());return l.a.createElement(tr,{dataBits:a},l.a.createElement(er,{name:"in"}),r.map((function(e,t){return l.a.createElement(er,{key:e.getName(),name:e.getName(),position:15*(t+1)})})),l.a.createElement(nr,{selected:n,dataBits:a}))},ar=function(){return l.a.createElement(nr,{dataBits:2})};var rr,or,lr=new ie({type:"Splitter",name:"Splitter",description:"Split wire with N bits into N 1 bit wires",group:"Wiring",configurations:[{name:"DATA_BITS",type:"select",default:"2",label:"Input data bits",options:[{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]}],model:class extends ${initialize(e){this.bits=Number(e.DATA_BITS),this.addInputPort("in",{bits:this.bits});for(let t=0;t<this.bits;t+=1)this.addOutputPort("out"+t)}step(e){return Object.fromEntries(e.in.asArray(this.bits).map((e,t,{length:n})=>["out"+(n-t-1),e]))}stepFloating(e){return this.step(e)}stepError(e){return this.step(e)}},widget:ir,icon:ar}),cr=["a","b","c","d","e","f","g","dp"],sr=Object(re.a)(We)(rr||(rr=Object(ae.a)(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  transform: translateY(-50%);\n"])),(function(e){return e.position.horizontal}),(function(e){return e.position.vertical})),ur=re.a.div(or||(or=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: ","px;\n  height: ","px;\n\n  background: ",";\n  box-shadow: 0 0 ","px\n    ",";\n  border: 2px solid\n    ",";\n  border-radius: 5px;\n"])),(function(e){return e.icon?23:75}),(function(e){return e.icon?36:90}),(function(e){return"#ffffff".concat(e.selected?"80":"ff")}),(function(e){return e.isActive?15:0}),(function(e){return e.color}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),dr=function(e){var t=e.segments,n=e.selected,i=e.icon;return l.a.createElement("svg",{width:i?18:50,height:i?36:90,viewBox:i?"-7 0 60 90":"0 0 50 90",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:n?"80":"ff",fillOpacity:n?"80":"ff"}},l.a.createElement("polyline",{points:"5 18 11 20 32 20 35 14 9 14",fill:t.a,"data-testid":"a"}),l.a.createElement("polyline",{points:"37 14 41 20 39 42 37 44 33 39 34 20",fill:t.b,"data-testid":"b"}),l.a.createElement("polyline",{points:"37 46 38 47 36 71 31 76 29 69 31 51",fill:t.c,"data-testid":"c"}),l.a.createElement("polyline",{points:"0 72 7 69 27 69 29 76 4 76",fill:t.d,"data-testid":"d"}),l.a.createElement("polyline",{points:"4 46 8 51 7 67 0 70 2 47",fill:t.e,"data-testid":"e"}),l.a.createElement("polyline",{points:"5 20 11 22 10 39 4 44 3 42",fill:t.f,"data-testid":"f"}),l.a.createElement("polyline",{points:"6 45 9 48 31 48 35 45 32 41 11 41",fill:t.g,"data-testid":"g"}),l.a.createElement("circle",{r:"5",cx:"45",cy:"71",fill:t.dp,"data-testid":"dp"}))},pr=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(ur,{selected:n},l.a.createElement(dr,{selected:n,segments:cr.reduce((function(e,n){return Object(u.a)(Object(u.a)({},e),{},Object(z.a)({},n,t.getColor(n)))}),{})}),cr.map((function(e){return l.a.createElement(sr,{key:e,name:e,position:t.getPositionForSegment(e)})})))},fr=function(){return l.a.createElement(ur,{icon:!0},l.a.createElement(dr,{icon:!0,segments:{a:"#ff0000",b:"#ff0000",c:"#ff0000",d:"#ff0000",e:"#ff0000",f:"#ff0000",g:"#ff0000",dp:"#ff0000"}}))};var mr,hr,gr,br,vr=new ie({type:"Ssd",name:"SSD",description:"Seven segments display",group:"Input & output",configurations:[{name:"ACTIVE_WHEN",type:"select",default:"HIGH",label:"Active when",options:[{label:"High",value:"HIGH"},{label:"Low",value:"LOW"}]},{name:"ON_COLOR",type:"select",default:"#ff0000",label:"On color",options:[{label:"Red",value:"#ff0000"},{label:"Green",value:"#00ff00"},{label:"Blue",value:"#0000ff"},{label:"White",value:"#ffffff"},{label:"Black",value:"#000000"}]},{name:"OFF_COLOR",type:"select",default:"#00000040",label:"Off color",options:[{label:"Red",value:"#ff000040"},{label:"Green",value:"#00ff0040"},{label:"Blue",value:"#0000ff40"},{label:"White",value:"#ffffff40"},{label:"Black",value:"#00000040"}]}],model:class extends ${initialize(e){this.activeWhen=e.ACTIVE_WHEN,this.colors={on:e.ON_COLOR,off:e.OFF_COLOR},this.addInputPort("a",{floating:0,error:0}),this.addInputPort("b",{floating:0,error:0}),this.addInputPort("c",{floating:0,error:0}),this.addInputPort("d",{floating:0,error:0}),this.addInputPort("e",{floating:0,error:0}),this.addInputPort("f",{floating:0,error:0}),this.addInputPort("g",{floating:0,error:0}),this.addInputPort("dp",{floating:0,error:0})}getInput(e){return this.getPort(e).getValue()||[0]}isActive(e){const t=this.getInput(e)[0];return"HIGH"===this.activeWhen?0!==t:0===t}getPositionForSegment(e){const t={a:{vertical:1,horizontal:3},b:{vertical:1,horizontal:4},c:{vertical:2,horizontal:3},d:{vertical:2,horizontal:2},e:{vertical:2,horizontal:1},f:{vertical:1,horizontal:2},g:{vertical:1,horizontal:1},dp:{vertical:2,horizontal:4}}[e];return{horizontal:8+15*(t.horizontal-1),vertical:1===t.vertical?-2:88}}getColor(e){return this.isActive(e)?this.colors.on:this.colors.off}},widget:pr,icon:fr}),yr=Object(re.a)(We)(mr||(mr=Object(ae.a)(["\n  position: absolute;\n  right: -7px;\n  top: 50%;\n  transform: translateY(-50%);\n"]))),Er=re.a.div(hr||(hr=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 45px;\n  height: 30px;\n\n  background: ",";\n  border: 2px solid\n    ",";\n  border-radius: 20px;\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),xr=re.a.button(gr||(gr=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 40px;\n  height: 24px;\n  margin: 2px;\n\n  background: #848484;\n  border: 2px solid #313131;\n  border-radius: 15px;\n\n  color: ",";\n  font-family: monospace;\n"])),(function(e){return 1===e.value?"black":"white"})),kr=re.a.div(br||(br=Object(ae.a)(["\n  transform: ",";\n\n  width: 15px;\n  height: 15px;\n\n  border-radius: 100%;\n  transition: 100ms linear;\n  background: black;\n"])),(function(e){return e.isActive?"translateX(6px)":"translateX(-6px)"})),Or=function(e){var t=e.model,n=t.options.selected;return l.a.createElement(Er,{selected:n},l.a.createElement(xr,{onClick:function(){return t.onClick()}},l.a.createElement(kr,{isActive:t.isActive()})),l.a.createElement(yr,{name:"out"}))},wr=function(){return l.a.createElement(Er,null,l.a.createElement(xr,{as:"div"},l.a.createElement(kr,{value:0})))};var Pr,jr,Sr,Cr=new ie({type:"Switch",name:"Switch",description:"On/off switch",group:"Input & output",configurations:[],model:class extends ${initialize(){this.addOutputPort("out")}onSimulationStart(){this.emit({out:0})}onClick(e){const t=1<<e;this.emit({out:this.getOutput()^t})}getOutput(){return this.getPort("out").getValue()||[0]}isActive(){return 1===this.getOutput()[0]}},widget:Or,icon:wr}),Ar=re.a.div(Pr||(Pr=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Tr=re.a.div(jr||(jr=Object(ae.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"])),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),Br=Object(re.a)(We)(Sr||(Sr=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Lr=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,a=void 0===i?[]:i;return l.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{fill:"none",style:{transform:"scale(0.284583, 0.284583) translate(-1px, -3px)"},d:"m 11.926664,1.1161165 c 5.50133,9.5176855 9.663162,25.9796645 9.66318,42.6065395 m 0,0 c 1.62e-4,18.330222 -4.950245,36.216284 -11.386335,45.249616"}),l.a.createElement("g",{transform:"scale(0.26458333)"},l.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 37.875 c 23.748245,0 43.005576,-42.349157 43,-43 -0.0058,-0.677686 -19.251755,-43 -43,-43 h -0.271484 z",transform:"translate(7)"}),l.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"}))),l.a.createElement("g",{strokeWidth:.5},a.includes(1)&&l.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),a.includes(2)&&l.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),a.includes(3)&&l.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),a.includes(4)&&l.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),a.includes(5)&&l.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},Mr=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(Ar,{selected:t.options.selected},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i,offsetX:12}),n.map((function(e,n){return l.a.createElement(o.Fragment,{key:e.getName()},l.a.createElement(Br,{name:e.getName(),position:i[n]}),(i[n]<1||i[n]>5)&&l.a.createElement(Tr,{selected:t.isSelected(),position:i[n]}))})),l.a.createElement(Br,{name:"out"}),l.a.createElement(Lr,{portPositions:i}))},Ir=function(){return l.a.createElement(Lr,{size:30})};var Nr,Dr,zr,Rr=new ie({type:"Xnor",name:"Xnor",description:'Logic "not exclusive or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"MULTIPLE_INPUT_BEHAVIOR",type:"select",default:"ONE",label:"Multiple input behavior",options:[{label:"Detect when only one input is on",value:"ONE"},{label:"Detect when an odd number of inputs are on",value:"ODD"}]}],model:class extends ${initialize(e){this.behavior=e.MULTIPLE_INPUT_BEHAVIOR,this.dataBits=Number(e.DATA_BITS);const t=Number(e.INPUT_PORTS_NUMBER);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return"ONE"===this.behavior?this.executeOne(e):"ODD"===this.behavior?this.executeOdd(e):{}}executeOne(e){return 1===e.filter(e=>1===e).length?0:1}executeOdd(e){return e.filter(e=>1===e).length%2?0:1}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit.bind(this))}}stepFloating(e){return this.step(e)}},widget:Mr,icon:Ir}),Fr=re.a.div(Nr||(Nr=Object(ae.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"])),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),_r=re.a.div(Dr||(Dr=Object(ae.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"])),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),Hr=Object(re.a)(We)(zr||(zr=Object(ae.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"])),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Wr=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,a=void 0===i?[]:i;return l.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},l.a.createElement("g",null,l.a.createElement("path",{fill:"none",style:{transform:"scale(0.284583, 0.284583) translate(-1px, -3px)"},d:"m 11.926664,1.1161165 c 5.50133,9.5176855 9.663162,25.9796645 9.66318,42.6065395 m 0,0 c 1.62e-4,18.330222 -4.950245,36.216284 -11.386335,45.249616"}),l.a.createElement("g",{transform:"translate(1.8657598)"},l.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 37.875 c 23.748245,0 43.005576,-42.349157 43,-43 -0.0058,-0.677686 -19.251755,-43 -43,-43 h -0.271484 z",transform:"scale(0.26458333)"}))),l.a.createElement("g",{strokeWidth:.5},a.includes(1)&&l.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),a.includes(2)&&l.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),a.includes(3)&&l.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),a.includes(4)&&l.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),a.includes(5)&&l.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},Ur=function(e){var t=e.model,n=Object.values(t.getInputPorts()),i=Ue(n.length);return l.a.createElement(Fr,{selected:t.options.selected},l.a.createElement(Ye,{selected:t.isSelected(),portPositions:i,offsetX:12}),n.map((function(e,n){return l.a.createElement(o.Fragment,{key:e.getName()},l.a.createElement(Hr,{name:e.getName(),position:i[n]}),(i[n]<1||i[n]>5)&&l.a.createElement(_r,{selected:t.isSelected(),position:i[n]}))})),l.a.createElement(Hr,{name:"out"}),l.a.createElement(Wr,{portPositions:i}))},Vr=function(){return l.a.createElement(Wr,{size:30})};var Yr,Xr,Kr,Zr,Gr,qr,Jr,Qr,$r,eo,to,no,io,ao,ro,oo,lo,co,so,uo,po,fo,mo,ho,go,bo,vo,yo,Eo,xo,ko,Oo,wo,Po,jo,So,Co,Ao,To,Bo,Lo,Mo,Io,No,Do,zo,Ro,Fo,_o,Ho,Wo,Uo,Vo,Yo,Xo,Ko,Zo=new ie({type:"Xor",name:"Xor",description:'Logic "exclusive or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:16,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"DATA_BITS",type:"select",default:"1",label:"Data bits",options:[{label:"1 bit",value:"1"},{label:"2 bits",value:"2"},{label:"4 bits",value:"4"},{label:"8 bits",value:"8"},{label:"16 bits",value:"16"}]},{name:"MULTIPLE_INPUT_BEHAVIOR",type:"select",default:"ONE",label:"Multiple input behavior",options:[{label:"Detect when only one input is on",value:"ONE"},{label:"Detect when an odd number of inputs are on",value:"ODD"}]}],model:class extends ${initialize(e){this.behavior=e.MULTIPLE_INPUT_BEHAVIOR,this.dataBits=Number(e.DATA_BITS);const t=Number(e.INPUT_PORTS_NUMBER);for(let n=0;n<t;n+=1)this.addInputPort("in"+n,{bits:this.dataBits});this.addOutputPort("out",{bits:this.dataBits})}executeBit(e){return"ONE"===this.behavior?this.executeOne(e):"ODD"===this.behavior?this.executeOdd(e):{}}executeOne(e){return 1===e.filter(e=>1===e).length?1:0}executeOdd(e){return e.filter(e=>1===e).length%2?1:0}step(e){return{out:Object.values(e).map(e=>e.asArray(this.dataBits)).transpose().map(this.executeBit.bind(this))}}stepFloating(e){return this.step(e)}},widget:Ur,icon:Vr}),Go=[In,ia,bt,Cr,It,Gn,vr,jt,$e,pi,Ui,xi,Zo,Rr,ct,Ti,Wt,qt,lr,Wn,va,kn,ii,pn,Fa,$a,an],qo=Go,Jo=Go.reduce((function(e,t){var n=e.find((function(e){return e.name===t.group}));return n?n.components.push(t):e.push({name:t.group,components:[t]}),e}),[]),Qo=n(264),$o=n.n(Qo),el=re.a.div(Yr||(Yr=Object(ae.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n\n  z-index: 2;\n"]))),tl=re.a.button.attrs((function(e){var t=Object.assign({},e);return Object(u.a)(Object(u.a)({},t),{},{type:"button"})}))(Xr||(Xr=Object(ae.a)(["\n  border: none;\n  border-radius: 100%;\n\n  background: orange;\n  box-shadow: inset 0 0 10px #ff8d00;\n\n  width: 60px;\n  height: 60px;\n  margin: 16px;\n\n  font-size: 2em;\n  line-height: 1em;\n  color: white;\n\n  transition: 0.5s ease-in-out;\n\n  &:disabled {\n    opacity: 10%;\n    cursor: not-allowed;\n    background: gray;\n    box-shadow: inset 0 0 10px black;\n  }\n"]))),nl=function(e){var t=e.handleClick,n=e.disabled;return l.a.createElement(el,{id:"component-select-button"},l.a.createElement(tl,{onClick:t,disabled:n,"data-for":"tooltip","data-tip":"Add component...","data-place":"left"},"+"))},il=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"100 100 300 300"},l.a.createElement("polygon",{points:"352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "}))},al=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 48 48"},l.a.createElement("polygon",{points:"5,30.9 8.1,34 24,18.1 39.9,34 43,30.9 24,12"}))},rl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("polyline",{points:"17 11 12 6 7 11"}),l.a.createElement("polyline",{points:"17 18 12 13 7 18"}))},ol=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 60.963 60.842"},l.a.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611  c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611  l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369  l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369  C61.42,57.647,61.42,54.687,59.595,52.861z"}))},ll=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))},cl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),l.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),l.a.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),l.a.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),l.a.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}))},sl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("polyline",{points:"3 6 5 6 21 6"}),l.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),l.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))},ul=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:18*n/24,viewBox:"0 0 24 18",fill:"none",stroke:"none",strokeWidth:"2"},l.a.createElement("g",{transform:"translate(-678.000000, -2727.000000)"},l.a.createElement("g",{transform:"translate(100.000000, 2626.000000)"},l.a.createElement("g",{transform:"translate(578.000000, 98.000000)"},l.a.createElement("g",{transform:"translate(0.000000, 0.000000)"},l.a.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),l.a.createElement("path",{d:"M15,8 C14.45,8 14,8.45 14,9 L14,11 L12,11 C11.45,11 11,11.45 11,12 C11,12.55 11.45,13 12,13 L14,13 L14,15 C14,15.55 14.45,16 15,16 C15.55,16 16,15.55 16,15 L16,13 L18,13 C18.55,13 19,12.55 19,12 C19,11.45 18.55,11 18,11 L16,11 L16,9 C16,8.45 15.55,8 15,8 Z M2,12 C2,9.42 3.4,7.17 5.48,5.96 C5.8,5.77 6.01,5.45 6.01,5.08 C6.01,4.31 5.17,3.83 4.5,4.22 C1.82,5.78 0,8.68 0,12 C0,15.32 1.82,18.22 4.5,19.78 C5.17,20.17 6.01,19.69 6.01,18.92 C6.01,18.55 5.8,18.23 5.48,18.04 C3.4,16.83 2,14.58 2,12 Z M15,3 C10.04,3 6,7.04 6,12 C6,16.96 10.04,21 15,21 C19.96,21 24,16.96 24,12 C24,7.04 19.96,3 15,3 Z M15,19 C11.14,19 8,15.86 8,12 C8,8.14 11.14,5 15,5 C18.86,5 22,8.14 22,12 C22,15.86 18.86,19 15,19 Z",fill:a}))))))},dl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))},pl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 512.001 512.001"},l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{d:"M481,371c11.046,0,20-8.954,20-20v-92c0-33.084-26.916-60-60-60h-39v-79c0-44.112-35.888-80-80-80h-47.533 c-7.739-23.749-29.864-40-55.16-40h-25.614c-25.296,0-47.421,16.251-55.16,40H91c-44.112,0-80,35.888-80,80v312 c0,44.112,35.888,80,80,80h88c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20H91c-22.056,0-40-17.944-40-40V120 c0-22.056,17.944-40,40-40h2v59c0,11.046,8.954,20,20,20h189c11.046,0,20-8.954,20-20V80c22.056,0,40,17.944,40,40v79h-65.007 C263.914,199,237,225.913,237,258.993v193.015c0,33.08,26.916,59.993,60.01,59.993L441,511.926c33.084,0,60-26.913,60-59.992 c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20c0,11.024-8.972,19.992-20.01,19.992L297,472c-11.028,0-20-8.969-20-19.993 V258.993c0-11.024,8.969-19.993,19.993-19.993H441c11.028,0,20,8.972,20,20v92C461,362.046,469.955,371,481,371z M282,119H133V80 h21c9.177,0,17.177-6.246,19.403-15.149l2.798-11.194C178.211,45.616,185.404,40,193.693,40h25.614 c8.289,0,15.481,5.616,17.492,13.657l2.798,11.194C241.823,73.754,249.823,80,259,80h23V119z"}),l.a.createElement("path",{d:"M401,279h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,287.954,412.047,279,401,279z"}),l.a.createElement("path",{d:"M401,349h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,357.954,412.047,349,401,349z"})))))},fl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"#ffb100":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M395,512a73.14,73.14,0,0,1-73.14-73.14V73.14a73.14,73.14,0,1,1,146.29,0V438.86A73.14,73.14,0,0,1,395,512Z"}),l.a.createElement("path",{d:"M117,512a73.14,73.14,0,0,1-73.14-73.14V73.14a73.14,73.14,0,1,1,146.29,0V438.86A73.14,73.14,0,0,1,117,512Z"}))},ml=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"#008000":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M60.54,512c-17.06,0-30.43-13.86-30.43-31.56V31.55C30.12,13.86,43.48,0,60.55,0A32.94,32.94,0,0,1,77,4.52L465.7,229c10.13,5.85,16.18,16,16.18,27s-6,21.2-16.18,27L77,507.48A32.92,32.92,0,0,1,60.55,512Z"}))},hl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:a},l.a.createElement("path",{d:"m431 481c0 11.046-8.954 20-20 20h-66c-11.046 0-20-8.954-20-20s8.954-20 20-20h66c11.046 0 20 8.954 20 20zm63.358-352.994-112.284-111.215c-7.848-7.773-20.511-7.713-28.284.135s-7.712 20.511.135 28.284l106.808 105.79h-285.733c-96.495 0-175 78.505-175 175s78.505 175 175 175h69c11.046 0 20-8.954 20-20s-8.954-20-20-20h-69c-74.439 0-135-60.561-135-135s60.561-135 135-135h284.836l-105.037 105.917c-7.778 7.843-7.725 20.506.118 28.284 3.9 3.868 8.992 5.799 14.083 5.799 5.146 0 10.292-1.975 14.202-5.917l111.225-112.157c11.332-11.332 17.573-26.4 17.573-42.426s-6.241-31.094-17.642-42.494z"}))},gl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),l.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))},bl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"#c53838":i;return l.a.createElement("svg",{width:n,height:n,fill:a,viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M 65.249771,0 A 65.248738,65.376306 0 0 0 0.413662,58.057582 h -0.18732 v 1.884685 A 65.248738,65.376306 0 0 0 0,65.377342 65.248738,65.376306 0 0 0 0.226342,70.796781 V 441.18757 A 65.248738,65.376306 0 0 0 0,446.62268 a 65.248738,65.376306 0 0 0 0.226342,5.41161 v 2.88566 H 0.530738 A 65.248738,65.376306 0 0 0 65.249771,512 a 65.248738,65.376306 0 0 0 2.44297,-0.0468 H 444.31507 a 65.248738,65.376306 0 0 0 2.43514,0.0468 65.248738,65.376306 0 0 0 2.44297,-0.0468 h 0.56977 v -0.024 a 65.248738,65.376306 0 0 0 61.70628,-57.00966 h 0.0312 v -0.22662 a 65.248738,65.376306 0 0 0 0.49952,-8.07049 65.248738,65.376306 0 0 0 -0.49952,-8.01579 V 67.011775 a 65.248738,65.376306 0 0 0 0.0234,-1.634433 65.248738,65.376306 0 0 0 -0.0234,-1.681351 v -5.638409 h -0.38247 A 65.248738,65.376306 0 0 0 456.2645,0.77420532 V 0 H 446.40678 446.2741 65.374651 Z"}))},vl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:a},l.a.createElement("path",{d:"m 81,481 c 0,11.046 8.954,20 20,20 h 66 c 11.046,0 20,-8.954 20,-20 0,-11.046 -8.954,-20 -20,-20 h -66 c -11.046,0 -20,8.954 -20,20 z M 17.642,128.006 129.926,16.791 c 7.848,-7.773 20.511,-7.713 28.284,0.135 7.773,7.848 7.712,20.511 -0.135,28.284 L 51.267,151 H 337 c 96.495,0 175,78.505 175,175 0,96.495 -78.505,175 -175,175 h -69 c -11.046,0 -20,-8.954 -20,-20 0,-11.046 8.954,-20 20,-20 h 69 c 74.439,0 135,-60.561 135,-135 0,-74.439 -60.561,-135 -135,-135 H 52.164 l 105.037,105.917 c 7.778,7.843 7.725,20.506 -0.118,28.284 -3.9,3.868 -8.992,5.799 -14.083,5.799 -5.146,0 -10.292,-1.975 -14.202,-5.917 L 17.573,212.926 C 6.241,201.594 0,186.526 0,170.5 0,154.474 6.241,139.406 17.642,128.006 Z"}))},yl=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),l.a.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),l.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))},El=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,a=void 0===i?"gray":i;return l.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2"},l.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),l.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))},xl=re.a.div(Kr||(Kr=Object(ae.a)(["\n  position: absolute;\n  bottom: 16px;\n  left: 50%;\n  transform: translate(-50%, 0);\n\n  background: rgb(224, 224, 224);\n  background: linear-gradient(\n    0deg,\n    rgba(224, 224, 224, 1) 0%,\n    rgba(255, 255, 255, 1) 100%\n  );\n\n  border: 1px solid gray;\n  border-radius: 16px;\n\n  z-index: 2;\n\n  & > button {\n    border-right: 1px solid gray;\n    &:last-child {\n      border-right: none;\n    }\n  }\n"]))),kl=re.a.button.attrs((function(e){var t=Object.assign({},e);return Object(u.a)(Object(u.a)({},t),{},{type:"button"})}))(Zr||(Zr=Object(ae.a)(["\n  background: none;\n  border: none;\n\n  font-size: 1.2em;\n\n  min-width: 75px;\n  min-height: 60px;\n\n  &:disabled {\n    & > svg {\n      fill: #bfbfbf;\n    }\n  }\n"]))),Ol=function(e){var t=e.state,n=e.handleClickStart,i=e.handleClickPause,a=e.handleClickStop;return l.a.createElement(xl,{id:"simulation-control-buttons"},l.a.createElement(kl,{onClick:n,disabled:"started"===t,"data-for":"tooltip","data-tip":"Start simulation"},l.a.createElement(ml,null)),l.a.createElement(kl,{onClick:i,disabled:"paused"===t||"stopped"===t,"data-for":"tooltip","data-tip":"Pause simulation"},l.a.createElement(fl,null)),l.a.createElement(kl,{onClick:a,disabled:"stopped"===t,"data-for":"tooltip","data-tip":"Stop simulation"},l.a.createElement(bl,null)))},wl=re.a.div(Gr||(Gr=Object(ae.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  z-index: 3;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100vw;\n  height: 100vh;\n\n  background: rgba(0, 0, 0, 0.75);\n"]))),Pl=re.a.div(qr||(qr=Object(ae.a)(["\n  width: 60vw;\n  height: 80vh;\n\n  max-width: 600px;\n  max-height: 800px;\n\n  background: white;\n\n  border: 1px solid black;\n  border-radius: 25px;\n\n  padding: 16px;\n\n  z-index: 4;\n"]))),jl=function(e){var t=e.children;return l.a.createElement(wl,null,l.a.createElement(Pl,null,t))},Sl=n(119),Cl=re.a.div(Jr||(Jr=Object(ae.a)(["\n  position: relative;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-content: space-between;\n\n  height: 50px;\n"]))),Al=re.a.h1(Qr||(Qr=Object(ae.a)(["\n  flex-grow: 1;\n  font-size: 1.5em;\n\n  margin: 0;\n\n  align-self: center;\n  text-align: center;\n"]))),Tl=re.a.h2($r||($r=Object(ae.a)(["\n  flex-grow: 1;\n  font-size: 1.2em;\n\n  margin: 0;\n\n  align-self: center;\n  text-align: center;\n"]))),Bl=re.a.div(eo||(eo=Object(ae.a)(["\n  margin-top: 32px;\n"]))),Ll=re.a.button(to||(to=Object(ae.a)(["\n  position: absolute;\n\n  flex-shrink: 0;\n\n  border: 1px solid gray;\n  border-radius: 25px;\n  width: 50px;\n  height: 50px;\n\n  ","\n\n  background: none;\n\n  :hover {\n    background: rgba(0, 0, 0, 0.05);\n    cursor: pointer;\n  }\n"])),(function(e){return e.left?"left: 0;":"right: 0;"})),Ml=void 0,Il=re.a.div(no||(no=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px;\n\n  label {\n    font-size: 0.8em;\n    font-weight: bold;\n    text-transform: uppercase;\n    color: ",";\n\n    background: #eee;\n    border: 1px solid ",";\n    border-radius: 8px;\n\n    position: relative;\n    top: 0.8em;\n\n    width: max-content;\n    margin-left: 15px;\n    padding: 0 8px;\n  }\n\n  select,\n  input {\n    background: white;\n    border: 1px solid ",";\n    border-radius: 25px;\n\n    font-size: 1.2em;\n\n    padding: 10px 0 5px 16px;\n  }\n\n  input[type='file'] {\n    font-size: 1em;\n    margin-top: 2px;\n  }\n"])),(function(e){return e.error?"#710606":"inherit"}),(function(e){return e.error?"#c80a0a":"gray"}),(function(e){return e.error?"#c80a0a":"gray"})),Nl=function(e){var t=e.form,n=e.field,i=e.name,a=e.label,r=e.componentType,o=e.type,c=e.innerRef,s=e.options,u=void 0===s?[]:s,d=e.step,p=e.min,f=e.max;switch(o){case"select":return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:i},a),l.a.createElement("select",Object.assign({id:i,ref:c},n),u.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.label)}))));case"number":return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:i},a),l.a.createElement("input",Object.assign({id:i,ref:c},n,{step:d,min:p,max:f,type:"number"})));case"text":return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:i},a),l.a.createElement("input",Object.assign({id:i,ref:c},n,{type:"text"})));case"binary":return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:i},a),l.a.createElement("input",{id:i,accept:".lgbin",type:"file",onChange:function(e){var i=e.target.files;if(1===i.length){var a=function(){return Ml.showSnackbar("Error loading binary file:\n".concat(i[0].name))},r=new FileReader;r.onerror=a,r.onload=function(e){try{var i=e.target.result;t.setFieldValue(n.name,i)}catch(r){a()}},r.readAsText(i.item(0))}}}));default:throw new Error("[logossim] Invalid configuration type for ".concat(r,": ").concat(o))}},Dl=re.a.div(io||(io=Object(ae.a)(["\n  font-size: 0.8em;\n  color: #c80a0a;\n\n  background: white;\n\n  position: relative;\n  bottom: 0.7em;\n\n  width: max-content;\n  padding: 0 8px;\n  margin: -15px auto auto auto;\n  transform: translateY(15px);\n"]))),zl=function(e){var t=e.field.name,n=e.form.errors[t];return l.a.createElement(Il,{error:n},l.a.createElement(Nl,e),n&&l.a.createElement(Dl,null,n))},Rl={getEngine:function(){return{registerListener:function(){},getCanvas:function(){},getPortCoords:function(){return{getWidth:function(){},getHeight:function(){},getTopLeft:function(){}}},getModel:function(){return{isLocked:function(){return!1}}}}}},Fl=function(e,t){return t?"":e?"Check form errors":"Drag me!"},_l=re.a.div(ao||(ao=Object(ae.a)(["\n  border: 1px dashed var(--value-error);\n  border-radius: 5px;\n  width: 30px;\n  height: 30px;\n"]))),Hl=function(e){var t=e.component,n=t.type,i=t.Widget,a=t.Model,r=e.configurations,o=e.handleClose,c=e.error,s=e.disabled,u=new a(r,n);return l.a.createElement("div",{draggable:!c&&!s,onDragStart:function(e){e.dataTransfer.setDragImage(e.currentTarget.children[0],0,0),e.dataTransfer.setData("component",JSON.stringify({type:n,configurations:r})),requestAnimationFrame((function(){y.a.hide(),o()}))},"data-for":"tooltip","data-tip":Fl(c,s),"data-place":"bottom"},c?l.a.createElement(_l,null):l.a.createElement(oe.Provider,{value:Rl},l.a.createElement(ne.Provider,{value:u},l.a.createElement(i,{model:u}))))},Wl=re.a.div(ro||(ro=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 200px;\n  margin-bottom: 32px;\n\n  box-shadow: ",";\n\n  background-image: ",";\n  background-size: 45px 45px;\n  border-radius: 25px;\n\n  overflow: hidden;\n"])),(function(e){return"inset 0 0 20px rgba(".concat(e.error?255:0,", 0, 0, 0.3)")}),(function(e){return"linear-gradient(\n      to right,\n      rgba(".concat(e.error?255:0,", 0, 0, 0.1) 1px,\n      transparent 1px,\n      transparent 15px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 15px,\n      transparent 16px,\n      transparent 30px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 30px,\n      transparent 31px\n    ),\n    linear-gradient(\n      to bottom,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.1) 1px,\n      transparent 1px,\n      transparent 15px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 15px,\n      transparent 16px,\n      transparent 30px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 30px,\n      transparent 31px\n    )")})),Ul=re.a.div(oo||(oo=Object(ae.a)(["\n  height: 375px;\n  overflow-y: auto;\n"]))),Vl=re.a.div(lo||(lo=Object(ae.a)(["\n  display: flex;\n"]))),Yl=re.a.span(co||(co=Object(ae.a)(["\n  font-size: 0.8em;\n  font-style: italic;\n  align-self: center;\n  text-align: right;\n  margin-right: 10px;\n"]))),Xl=re.a.button.attrs((function(e){var t=Object.assign({},e);return Object(u.a)(Object(u.a)({},t),{},{type:"submit"})}))(so||(so=Object(ae.a)(["\n  border: none;\n  border-radius: 5px;\n  background: #07d26b;\n\n  color: white;\n  font-size: 1.2em;\n\n  width: 100%;\n  padding: 5px 20px;\n  margin: 5px;\n\n  :disabled {\n    background: #d22307;\n    cursor: not-allowed;\n  }\n"]))),Kl=function(e){return Object.fromEntries(e.configurations.map((function(e){return[e.name,e.default]})))},Zl=function(e){var t=e.editMode,n=e.component,i=e.handleClose,a=e.handleBack,r=e.handleSubmit,c=Object(o.useRef)(),s=Object(o.useRef)();return Object(o.useEffect)((function(){c.current?c.current.focus():s.current.focus()})),Object(o.useEffect)(y.a.rebuild),l.a.createElement(l.a.Fragment,null,l.a.createElement(Cl,null,!t&&l.a.createElement(Ll,{left:!0,onClick:a,"data-for":"tooltip","data-tip":"Go back...","data-place":"right"},l.a.createElement(il,null)),l.a.createElement(Al,null,t?"Edit":"Configure"," component"),l.a.createElement(Ll,{right:!0,onClick:i,"data-for":"tooltip","data-tip":"Close","data-place":"left"},l.a.createElement(ol,null))),l.a.createElement(Bl,null,l.a.createElement(Sl.c,{initialValues:Kl(n),onSubmit:function(e){r(null,{type:n.type,configurations:e}),i()}},(function(e){var a=e.values,r=e.isValid;return l.a.createElement(Sl.b,null,l.a.createElement(Wl,{error:!r},l.a.createElement(Hl,{component:n,configurations:a,handleClose:i,error:!r,disabled:t})),l.a.createElement(Ul,{autoComplete:"off"},n.configurations.map((function(e,t){return l.a.createElement(Sl.a,Object.assign({key:e.name,component:zl,innerRef:0===t?c:null},e,{validate:e.validate?function(t){return e.validate(t,a)}:null}))}))),l.a.createElement(Vl,null,!t&&l.a.createElement(Yl,null,"(hint: you can also drag the component)"),l.a.createElement(Xl,{disabled:!r,ref:s},function(e,t){return e?t?"Edit component":"Add to circuit":"Check form errors"}(r,t))))}))))},Gl=function(e){var t=e.isOpen,n=e.components,i=e.component,a=e.handleClose,r=e.handleComponentEdit,c=Object(o.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,a)}),[a]);if(Object(o.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}),[c]),!t)return null;var s=n.find((function(e){return e.type===i.options.type})),d=Object(u.a)(Object(u.a)({},s),{},{configurations:s.configurations.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{default:i.configurations[e.name]})}))});return l.a.createElement(jl,null,l.a.createElement(Zl,{editMode:!0,handleClose:a,handleSubmit:function(e,t){var n=t.configurations;return r(i,n)},component:d}))},ql=re.a.div(uo||(uo=Object(ae.a)(["\n  margin-bottom: 32px;\n"]))),Jl=re.a.div(po||(po=Object(ae.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Ql=re.a.div(fo||(fo=Object(ae.a)(["\n  font-weight: bold;\n  font-size: 1.3em;\n"]))),$l=re.a.hr(mo||(mo=Object(ae.a)(["\n  flex-grow: 1;\n  align-self: center;\n\n  margin: 16px;\n  border-top: 1px solid black;\n"]))),ec=re.a.button(ho||(ho=Object(ae.a)(["\n  background: none;\n  border: none;\n  width: 50px;\n\n  transform: ",";\n"])),(function(e){return e.isOpen?"rotate(180deg)":"none"})),tc=re.a.div(go||(go=Object(ae.a)(["\n  display: ",";\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 8px;\n"])),(function(e){return e.isOpen?"grid":"none"})),nc=re.a.button(bo||(bo=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n\n  padding: 8px;\n\n  background: rgba(0, 0, 0, 0.05);\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  :hover {\n    background: rgba(0, 0, 0, 0.1);\n    border-style: dashed;\n  }\n"]))),ic=re.a.h2(vo||(vo=Object(ae.a)(["\n  font-weight: normal;\n  font-size: 1.2em;\n"]))),ac=re.a.div(yo||(yo=Object(ae.a)(["\n  margin-right: 16px;\n"]))),rc=function(e){var t=e.name,n=e.components,i=e.handleComponentSelect,a=Object(o.useState)(!0),r=Object(d.a)(a,2),c=r[0],s=r[1];return l.a.createElement(ql,null,l.a.createElement(Jl,{onClick:function(){return s(!c)}},l.a.createElement(Ql,null,t),l.a.createElement($l,null),l.a.createElement(ec,{left:!0,isOpen:c,onClick:function(){return s(!c)}},l.a.createElement(al,null))),l.a.createElement(tc,{isOpen:c},n.map((function(e){return l.a.createElement(nc,{onClick:function(){return i(e)},key:e.name,"data-for":"tooltip","data-tip":e.description},l.a.createElement(ac,null,l.a.createElement(e.Icon,null)),l.a.createElement(ic,null,e.name))}))))},oc=re.a.input(Eo||(Eo=Object(ae.a)(["\n  flex-grow: 1;\n\n  padding: 10px;\n  margin-right: 60px;\n  font-size: 1.5em;\n\n  border-radius: 25px;\n  border: 1px solid gray;\n\n  ::placeholder {\n    font-weight: 300;\n    color: #cfcfcf;\n  }\n"]))),lc=re.a.div(xo||(xo=Object(ae.a)(["\n  padding-right: 16px;\n  max-height: calc(min(800px, 80vh) - 130px);\n  overflow-y: auto;\n"]))),cc=function(e){var t=e.groups,n=e.handleComponentSelect,i=e.handleClose;Object(o.useEffect)(y.a.rebuild);var a=Object(o.useState)(t),r=Object(d.a)(a,2),c=r[0],s=r[1],p=Object(o.useState)(""),f=Object(d.a)(p,2),m=f[0],h=f[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Cl,null,l.a.createElement(oc,{autoFocus:!0,placeholder:"Search components...",value:m,onChange:function(e){return function(e){if(h(e),e){var n=new RegExp("".concat(e,".*"),"i"),i=t.map((function(e){return e.components.some((function(e){return e.name.match(n)}))?Object(u.a)(Object(u.a)({},e),{},{components:e.components.filter((function(e){return e.name.match(n)}))}):null})).filter((function(e){return null!=e}));s(i)}else s(t)}(e.target.value)},onKeyDown:function(e){return function(e){"Escape"===e&&(h(""),s(t)),"Enter"===e&&m&&c.length>0&&c[0].components.length>0&&n(c[0].components[0])}(e.key)}}),l.a.createElement(Ll,{right:!0,onClick:i,"data-for":"tooltip","data-tip":"Close","data-place":"left"},l.a.createElement(ol,null))),l.a.createElement(Bl,null,l.a.createElement(lc,null,c.map((function(e){var t=e.name,i=e.components;return l.a.createElement(rc,{name:t,components:i,handleComponentSelect:n,key:t})})))))},sc=function(e){var t=e.isOpen,n=e.groups,i=e.handleClose,a=e.handleComponentDrop,r=Object(o.useState)(null),c=Object(d.a)(r,2),s=c[0],u=c[1],p=Object(o.useCallback)((function(e){return function(e,t){var n=e.code,i=t.handleClose,a=t.setSelectedComponent;"Escape"===n&&(i(),a(null))}(e,{handleClose:i,setSelectedComponent:u})}),[i]);return Object(o.useEffect)((function(){return window.addEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[p]),t?l.a.createElement(jl,null,s?l.a.createElement(Zl,{handleClose:function(){i(),u(null)},handleSubmit:a,handleBack:function(){return u(null)},component:s}):l.a.createElement(cc,{handleClose:i,handleComponentSelect:u,groups:n})):null},uc=re.a.span(ko||(ko=Object(ae.a)(["\n  display: inline-flex;\n  align-items: center;\n\n  height: ","px;\n  padding: 0 ","px;\n  margin: 2px ","px;\n\n  font-size: ","px;\n  font-family: monospace;\n  color: #000000c4;\n\n  background: #ececec;\n  border-radius: 4px;\n  border: 1px solid #ffffff17;\n  box-shadow: inset 0 0 ","px #0000000a;\n"])),(function(e){return e.size}),(function(e){return e.size/4}),(function(e){return e.size/8}),(function(e){return e.size/2}),(function(e){return e.size/4})),dc=function(e){var t=e.children,n=e.size,i=void 0===n?16:n;return l.a.createElement(uc,{size:i},t)},pc=re.a.div(Oo||(Oo=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n"]))),fc=re.a.div(wo||(wo=Object(ae.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  margin-left: 8px;\n"]))),mc=function(e){var t=e.duplicateSelected,n=e.cutSelected,i=e.copySelected,a=e.pasteSelected,r=e.deleteSelected,o=e.undo,c=e.redo,s=e.zoomIn,u=e.zoomOut,d=e.configureComponent;return l.a.createElement(ee.Menu,{id:"component"},l.a.createElement(ee.Item,{onClick:t},l.a.createElement(pc,null,l.a.createElement(ul,null)),"Duplicate",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"D"))),l.a.createElement(ee.Item,{onClick:n},l.a.createElement(pc,null,l.a.createElement(cl,null)),"Cut",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"X"))),l.a.createElement(ee.Item,{onClick:i},l.a.createElement(pc,null,l.a.createElement(ll,null)),"Copy",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"C"))),l.a.createElement(ee.Item,{onClick:a},l.a.createElement(pc,null,l.a.createElement(pl,null)),"Paste",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"V"))),l.a.createElement(ee.Item,{onClick:r},l.a.createElement(pc,null,l.a.createElement(sl,null)),"Delete",l.a.createElement(fc,null,l.a.createElement(dc,null,"Delete"))),l.a.createElement(ee.Separator,null),l.a.createElement(ee.Item,{onClick:s},l.a.createElement(pc,null,l.a.createElement(yl,null)),"Zoom in"),l.a.createElement(ee.Item,{onClick:u},l.a.createElement(pc,null,l.a.createElement(El,null)),"Zoom out"),l.a.createElement(ee.Separator,null),l.a.createElement(ee.Item,{onClick:o},l.a.createElement(pc,null,l.a.createElement(vl,null)),"Undo",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"Z"))),l.a.createElement(ee.Item,{onClick:c},l.a.createElement(pc,null,l.a.createElement(hl,null)),"Redo",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"SHIFT"),l.a.createElement(dc,null,"Z"))),l.a.createElement(ee.Separator,null),l.a.createElement(ee.Item,{onClick:function(e){var t=e.props;return d(t)}},l.a.createElement(pc,null,l.a.createElement(gl,null)),"Edit configurations...",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"E"))))},hc=function(e){var t=e.pasteSelected,n=e.undo,i=e.redo,a=e.zoomIn,r=e.zoomOut;return l.a.createElement(ee.Menu,{id:"diagram"},l.a.createElement(ee.Item,{onClick:t},l.a.createElement(pc,null,l.a.createElement(pl,null)),"Paste",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"V"))),l.a.createElement(ee.Separator,null),l.a.createElement(ee.Item,{onClick:a},l.a.createElement(pc,null,l.a.createElement(yl,null)),"Zoom in"),l.a.createElement(ee.Item,{onClick:r},l.a.createElement(pc,null,l.a.createElement(El,null)),"Zoom out"),l.a.createElement(ee.Separator,null),l.a.createElement(ee.Item,{onClick:n},l.a.createElement(pc,null,l.a.createElement(vl,null)),"Undo",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"Z"))),l.a.createElement(ee.Item,{onClick:i},l.a.createElement(pc,null,l.a.createElement(hl,null)),"Redo",l.a.createElement(fc,null,l.a.createElement(dc,null,"CTRL"),l.a.createElement(dc,null,"SHIFT"),l.a.createElement(dc,null,"Z"))))},gc=(n(521),function(e){var t=e.duplicateSelected,n=e.cutSelected,i=e.copySelected,a=e.pasteSelected,r=e.deleteSelected,o=e.undo,c=e.redo,s=e.zoomIn,u=e.zoomOut,d=e.configureComponent;return l.a.createElement(l.a.Fragment,null,l.a.createElement(hc,{pasteSelected:a,undo:o,redo:c,zoomIn:s,zoomOut:u}),l.a.createElement(mc,{duplicateSelected:t,cutSelected:n,copySelected:i,pasteSelected:a,deleteSelected:r,undo:o,redo:c,zoomIn:s,zoomOut:u,configureComponent:d}))}),bc=n(117),vc=n.n(bc),yc=n(267),Ec=re.a.span(Po||(Po=Object(ae.a)(["\n  font-weight: bold;\n  font-size: 1.1em;\n  margin-top: -32px;\n"]))),xc=re.a.hr(jo||(jo=Object(ae.a)(["\n  width: 80%;\n  margin: 24px;\n  border-color: white;\n"]))),kc=function(e){var t=e.isOpen,n=e.handleClose,i=Object(o.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,n)}),[n]);return Object(o.useEffect)((function(){return window.addEventListener("keydown",i),function(){return window.removeEventListener("keydown",i)}}),[i]),t?l.a.createElement(jl,null,l.a.createElement(Cl,null,l.a.createElement(Al,null,"About"),l.a.createElement(Ll,{right:!0,onClick:n,"data-for":"tooltip","data-tip":"Close","data-place":"left"},l.a.createElement(ol,null))),l.a.createElement(Bl,{style:{paddingTop:0,marginTop:16,overflowY:"auto",height:"calc(100% - 70px)",display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("img",{src:"".concat("https://renato-bohler.github.io/logossim","/social.png"),alt:"logossim's logo",style:{width:"75%"}}),l.a.createElement(Ec,null,"Version ",yc.a)),l.a.createElement(xc,null),l.a.createElement("div",{style:{margin:"0 32px"}},l.a.createElement("p",{style:{textAlign:"center"}},"If you want to know more about the project,"," ",l.a.createElement("a",{href:"https://github.com/renato-bohler/logossim",target:"_blank",rel:"noopener noreferrer"},"check us out on GitHub!")),l.a.createElement(vc.a,{type:"stargazers",namespace:"renato-bohler",repo:"logossim"}),l.a.createElement("p",{style:{textAlign:"center"}},l.a.createElement("strong",null,"You can help us")," make logossim better! If you know a little bit of web development, you can quite easily develop new components to the application.")),l.a.createElement(xc,null),l.a.createElement("div",{style:{margin:"0 32px"}},l.a.createElement("p",{style:{textAlign:"center"}},"This is a project built by"," ",l.a.createElement("a",{href:"https://renato-bohler.github.io/",target:"_blank",rel:"noopener noreferrer"},"Renato B\xf6hler")," ","as an undegraduate thesis on Computer Engineering at"," ",l.a.createElement("a",{href:"http://www.utfpr.edu.br/",target:"_blank",rel:"noopener noreferrer"},"UTFPR"),".")))):null},Oc=re.a.div(So||(So=Object(ae.a)(["\n  display: flex;\n"]))),wc=re.a.table(Co||(Co=Object(ae.a)(["\n  flex: 1;\n  margin: 8px 0;\n"]))),Pc=re.a.td(Ao||(Ao=Object(ae.a)(["\n  padding: 8px;\n\n  border: 1px solid #5d2eb526;\n  border-radius: 8px;\n"]))),jc=function(e){var t=e.isOpen,n=e.handleClose,i=Object(o.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,n)}),[n]);return Object(o.useEffect)((function(){return window.addEventListener("keydown",i),function(){return window.removeEventListener("keydown",i)}}),[i]),t?l.a.createElement(jl,null,l.a.createElement(Cl,null,l.a.createElement(Al,null,"Keyboard shortcuts"),l.a.createElement(Ll,{right:!0,onClick:n,"data-for":"tooltip","data-tip":"Close","data-place":"left"},l.a.createElement(ol,null))),l.a.createElement(Bl,{style:{paddingTop:16,marginTop:16,overflowY:"auto",height:"calc(100% - 70px)"}},l.a.createElement("span",null,l.a.createElement("strong",null,"Note:")," some of the actions may have two shortcuts."),l.a.createElement(Tl,{style:{marginTop:32}},"Circuit management"),l.a.createElement(Oc,null,l.a.createElement(wc,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement(Pc,null,"Save"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"S")),l.a.createElement(Pc,null)),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Load"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"L")),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"SHIFT"),l.a.createElement(dc,{size:32},"S"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Undo"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"Z")),l.a.createElement(Pc,null)),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Redo"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"SHIFT"),l.a.createElement(dc,{size:32},"Z")),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"Y")))))),l.a.createElement(Tl,{style:{marginTop:32}},"Component management"),l.a.createElement(Oc,null,l.a.createElement(wc,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement(Pc,null,"Edit configurations"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"E"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Duplicate"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"D"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Delete"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"Delete"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Copy"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"C"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Paste"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"V"))),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Cut"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"X")))))),l.a.createElement(Tl,{style:{marginTop:32}},"Simulation control"),l.a.createElement(Oc,null,l.a.createElement(wc,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement(Pc,null,"Play"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"SPACE")),l.a.createElement(Pc,null)),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Pause"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"SPACE")),l.a.createElement(Pc,null)),l.a.createElement("tr",null,l.a.createElement(Pc,null,"Stop"),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"CTRL"),l.a.createElement(dc,{size:32},"SPACE")),l.a.createElement(Pc,null,l.a.createElement(dc,{size:32},"ESC")))))))):null},Sc=re.a.div(To||(To=Object(ae.a)(["\n  position: absolute;\n  z-index: 10;\n\n  font-size: 2em;\n  font-weight: bold;\n  font-family: monospace;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  background: #ffffff80;\n  border: 1px solid #6441a5;\n  border-radius: 16px;\n\n  padding: 16px;\n"]))),Cc=function(){return l.a.createElement(Sc,null,"Loading example...")},Ac={error:"#f44336",warning:"#ff9800",info:"#2196f3",success:"#4caf50"},Tc=re.a.div(Bo||(Bo=Object(ae.a)(["\n  position: absolute;\n  top: ",";\n  left: 50%;\n  transition: top ","ms;\n  transform: translateX(-50%);\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  border-radius: 10px;\n  min-width: 300px;\n  min-height: 50px;\n\n  cursor: pointer;\n\n  background: ",";\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2),\n    0px 6px 10px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n  z-index: 2;\n"])),(function(e){return e.open?"5px":"-200px"}),500,(function(e){return Ac[e.type]})),Bc=re.a.span(Lo||(Lo=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  width: 100%;\n  align-items: flex-start;\n  margin-top: 5px;\n  padding: 8px 16px;\n"]))),Lc=Object(re.b)(Mo||(Mo=Object(ae.a)(["\n  0% {\n    width: 100%;\n  }\n  100% {\n    width: 0;\n  }\n"]))),Mc=re.a.div(Io||(Io=Object(ae.a)(["\n  background: #ffffff80;\n  height: 5px;\n  border-radius: 5px;\n  align-self: flex-start;\n  width: 100%;\n\n  animation-name: ",";\n  animation-play-state: ",";\n  animation-duration: ","ms;\n  animation-delay: ","ms;\n  animation-timing-function: linear;\n"])),Lc,(function(e){return e.paused?"paused":"running"}),(function(e){return e.timeout-250}),250),Ic=function(e){var t=e.open,n=e.handleClose,i=e.message,a=e.type,r=e.timeout;return l.a.createElement(Tc,{type:a,timeout:r,open:t,onClick:n},l.a.createElement(Bc,null,i.split("\n").map((function(e,t){return l.a.createElement("div",{key:t},e)}))),t&&l.a.createElement(Mc,{timeout:r}))},Nc=re.a.div(No||(No=Object(ae.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n\n  z-index: 2;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  background: white;\n  border-bottom: 1px solid #e5e5e5;\n  box-shadow: 0px -10px 20px 0px black;\n  padding: 12px;\n\n  transform: ",";\n  transition: 0.5s ease-in-out;\n"])),(function(e){return e.isHidden?"translateY(-100%)":"none"})),Dc=re.a.div(Do||(Do=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  padding: 4px;\n  border: 1px solid\n    ",";\n  border-radius: 4px;\n  cursor: pointer;\n  &:hover {\n    border: 1px solid #e5e5e5;\n  }\n"])),(function(e){return e.isFocused?"#e5e5e5":"transparent"})),zc=re.a.input(zo||(zo=Object(ae.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  font-size: 20px;\n"]))),Rc=re.a.button(Ro||(Ro=Object(ae.a)(["\n  border: none;\n  background: none;\n  outline: none;\n  cursor: pointer;\n"]))),Fc=re.a.div(Fo||(Fo=Object(ae.a)(["\n  display: flex;\n"]))),_c=re.a.button.attrs((function(e){var t=Object.assign({},e);return Object(u.a)(Object(u.a)({},t),{},{type:"button"})}))(_o||(_o=Object(ae.a)(["\n  border: none;\n  border-radius: 5px;\n  background: ",";\n\n  color: white;\n  font-size: 1.2em;\n\n  min-width: 110px;\n  padding: 5px 20px;\n  margin: 5px;\n\n  transition: 0.5s ease-in-out;\n\n  &:disabled {\n    opacity: 10%;\n    cursor: not-allowed;\n    background: gray;\n  }\n"])),(function(e){switch(e.color){case"green":return"#07d26b";case"orange":return"orange";default:return"gray"}})),Hc=re.a.input(Ho||(Ho=Object(ae.a)(["\n  display: none;\n"]))),Wc=re.a.button.attrs((function(e){var t=Object.assign({},e);return Object(u.a)(Object(u.a)({},t),{},{type:"button"})}))(Wo||(Wo=Object(ae.a)(["\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 50%;\n  border: 1px solid #6441a5;\n\n  width: 34px;\n  height: 34px;\n\n  margin: 5px;\n\n  color: #6441a5;\n  font-weight: bold;\n  font-size: 1.3em;\n\n  &:focus,\n  &:hover {\n    background: #6441a5;\n    border: 1px solid rgba(255, 255, 255, 0.6);\n    color: rgba(255, 255, 255, 0.6);\n  }\n"]))),Uc=re.a.div(Uo||(Uo=Object(ae.a)(["\n  position: absolute;\n  top: 80px;\n  transform: translateX(calc(17px + -50%));\n\n  display: flex;\n  flex-direction: column;\n\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid #6441a5;\n  border-radius: 10px;\n  padding: 3px;\n\n  z-index: 3;\n"]))),Vc=re.a.button(Vo||(Vo=Object(ae.a)(["\n  font-size: 14px;\n  color: #222;\n  padding: 16px;\n  border: 0;\n  background: transparent;\n  border-bottom: ",";\n\n  &:focus,\n  &:hover {\n    color: #6441a5;\n  }\n"])),(function(e){return e.last?"none":"1px solid #6441a5"})),Yc=re.a.button(Yo||(Yo=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 80px;\n  right: 20px;\n  background: white;\n  border: 1px solid #e5e5e5;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0px 0px 12px 0px #6b6b6b;\n\n  svg {\n    transform: ",";\n    transition: 0.5s ease-in-out;\n  }\n"])),(function(e){return e.isHidden?"rotate(180deg)":"none"})),Xc=function(e){var t=e.circuitName,n=e.isCircuitNameFocused,i=e.handleChangeCircuitName,a=e.handleFocusCircuitName,r=e.handleBlurCircuitName,c=e.handleClickSave,s=e.handleFileLoad,u=e.handleClickKeyboardShortcuts,p=e.handleClickRedoTour,f=e.handleClickAbout,m=e.disabled,h=Object(o.useRef)(),g=Object(o.useRef)(),b=Object(o.useRef)(),v=Object(o.useRef)(),y=Object(o.useState)(!1),E=Object(d.a)(y,2),x=E[0],k=E[1],O=Object(o.useState)(!1),w=Object(d.a)(O,2),P=w[0],j=w[1],S=function(){return k(!x)},C=function(e){g.current&&!g.current.contains(e.target)&&h.current&&!h.current.contains(e.target)&&S()};return Object(o.useEffect)((function(){return document.addEventListener("mousedown",C),function(){return document.removeEventListener("mousedown",C)}})),l.a.createElement(Nc,{isHidden:P},l.a.createElement(Dc,{isFocused:n,"data-for":"tooltip","data-tip":"Rename your circuit...","data-place":"right"},l.a.createElement(zc,{ref:b,value:t,onChange:i,onFocus:a,onBlur:r,onKeyDown:function(e){if(b.current){var t=e.key;"Enter"!==t&&"Escape"!==t||b.current.blur()}},maxLength:50}),l.a.createElement(Rc,{onClick:function(){b.current&&b.current.focus()}},l.a.createElement(dl,null))),l.a.createElement(Fc,null,l.a.createElement(Wc,{id:"help-button",ref:h,onClick:S,"data-for":"tooltip","data-tip":"Get help...","data-place":"left"},l.a.createElement("span",null,"?")),x&&l.a.createElement(Uc,{ref:g},l.a.createElement(Vc,{onClick:function(){u(),S()}},"Keyboard shortcuts"),l.a.createElement(Vc,{onClick:function(){j(!1),p(),S()}},"Redo the tour"),l.a.createElement(Vc,{onClick:function(){f(),S()},last:!0},"About")),l.a.createElement("div",{id:"save-load-buttons"},l.a.createElement(_c,{color:"green",onClick:c,disabled:m,"data-for":"tooltip","data-tip":"Save circuit to file","data-place":"left"},"Save"),l.a.createElement(_c,{color:"orange",disabled:m,onClick:function(){v.current&&v.current.click()},"data-for":"tooltip","data-tip":"Load circuit from file...","data-place":"left"},"Load"),l.a.createElement(Hc,{id:"file-input",ref:v,type:"file",accept:".lgsim",onChange:s}))),l.a.createElement(Yc,{isHidden:P,onClick:function(){return j((function(e){return!e}))},"data-for":"tooltip","data-tip":P?"Show titlebar":"Hide titlebar","data-place":"left"},l.a.createElement(rl,null)))},Kc=n(58),Zc=n(271),Gc=n.n(Zc),qc=n(272),Jc=n.n(qc),Qc=n(273),$c=n.n(Qc),es=n(274),ts=n.n(es),ns=180,is=135,as={id:"tour-circuit",name:"Logossim's tour circuit",createdAt:"2020-05-21T20:18:00.000Z",updatedAt:"2020-09-08T11:47:00.000Z",circuit:{id:"tour-circuit",locked:!1,offsetX:0,offsetY:0,zoom:100,gridSize:15,layers:[{id:"4d94cbed-1005-4dc6-b0e3-44d71dc14380",type:"diagram-links",isSvg:!0,transformed:!0,models:{"clock-out-link":{id:"clock-out-link",type:"link",selected:!1,source:"clock",sourcePort:"clock-port",target:"and",targetPort:"and-port-in0",points:[{id:"bb7c0935-a272-45ea-b47a-f9b79fa7fac3",type:"point",x:30,y:15},{id:"2f339615-1c6c-450c-9862-06742ed3893f",type:"point",x:60,y:15}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null,bits:1},"and-out-link":{id:"and-out-link",type:"link",selected:!1,source:"and",sourcePort:"and-port-out",target:null,targetPort:null,points:[{id:"e4916002-7182-4866-9df7-46473e7de8bc",type:"point",x:150,y:45},{id:"d677077d-9750-4831-be02-566294c988b1",type:"point",x:180,y:45}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null,bits:1},"button-out-link":{id:"button-out-link",type:"link",selected:!1,source:"button",sourcePort:"c241c69b-8e1a-45be-9982-4c96a537584f",target:"and",targetPort:"and-port-in1",points:[{id:"fbd656c6-6a36-4903-94b8-c715db34052d",type:"point",x:30,y:75},{id:"f70cce22-3d5d-4257-9916-b602da9a901b",type:"point",x:60,y:75}],labels:[],bifurcations:["not-in-link"],bifurcationSource:null,bifurcationTarget:null,value:null,bits:1},"not-out-link":{id:"not-out-link",type:"link",selected:!1,source:"not",sourcePort:"not-port-out",target:null,targetPort:null,points:[{id:"ba84ed0f-78ed-43c2-93d8-cf907b91b5fd",type:"point",x:120,y:120},{id:"78a6e161-97c3-4a31-a46c-244469ac75ff",type:"point",x:180,y:120}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null,bits:1},"not-in-link":{id:"not-in-link",type:"link",selected:!1,source:null,sourcePort:null,target:"not",targetPort:"589ba5d7-8c75-4c82-9068-a67c9b023f77",points:[{id:"fada8e3b-4b46-4a24-a7ec-e3ca3bab77ab",type:"point",x:45,y:75},{id:"f31e71e6-5d72-4f17-9af1-c23bfd257980",type:"point",x:45,y:120},{id:"2e747ee3-1c90-4e95-a40b-f221eb0710b3",type:"point",x:75,y:120}],labels:[],bifurcations:[],bifurcationSource:"button-out-link",bifurcationTarget:null,value:null,bits:1}}},{id:"9d30c1dd-e474-45b1-ad88-6b7739678ef3",type:"diagram-nodes",isSvg:!1,transformed:!0,models:{clock:{id:"clock",type:"Clock",selected:!1,x:0,y:0,ports:[{id:"clock-port",type:"Port",selected:!1,x:25,y:10,name:"out",parentNode:"clock",links:["clock-out-link"],input:!1,value:null,bits:1}],configurations:{FREQUENCY_HZ:.5,HIGH_DURATION:1,LOW_DURATION:1}},and:{id:"and",type:"And",selected:!1,x:60,y:0,ports:[{id:"and-port-in0",type:"Port",selected:!1,x:55,y:10,name:"in0",parentNode:"and",links:["clock-out-link"],input:!0,value:null,bits:1},{id:"and-port-in1",type:"Port",selected:!1,x:55,y:70,name:"in1",parentNode:"and",links:["button-out-link"],input:!0,value:null,bits:1},{id:"and-port-out",type:"Port",selected:!1,x:145,y:40,name:"out",parentNode:"and",links:["and-out-link"],input:!1,value:null,bits:1}],configurations:{DATA_BITS:"1",INPUT_PORTS_NUMBER:2}},button:{id:"button",type:"Button",selected:!1,x:0,y:60,ports:[{id:"c241c69b-8e1a-45be-9982-4c96a537584f",type:"Port",selected:!1,x:25,y:70,name:"out",parentNode:"button",links:["button-out-link"],input:!1,value:null,bits:1}],configurations:{}},not:{id:"not",type:"Not",selected:!1,x:75,y:105,ports:[{id:"589ba5d7-8c75-4c82-9068-a67c9b023f77",type:"Port",selected:!1,x:70,y:115,name:"in",parentNode:"not",links:["not-in-link"],input:!0,value:null,bits:1},{id:"not-port-out",type:"Port",selected:!1,x:115,y:115,name:"out",parentNode:"not",links:["not-out-link"],input:!1,value:null,bits:1}],configurations:{DATA_BITS:"1"}}}}]}},rs=Object(re.b)(Xo||(Xo=Object(ae.a)(["\n  0% {\n    transform: scale(1);\n  }\n\n  55% {\n    background-color: rgba(42, 8, 69, 0.5);\n    transform: scale(1.2);\n  }\n"]))),os=re.a.span(Ko||(Ko=Object(ae.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  animation: "," 1s ease-in-out infinite;\n  background-color: ",";\n  border: 1px solid rgba(42, 8, 69, 0.7);\n  border-radius: 50%;\n\n  height: ","px;\n  width: ","px;\n"])),rs,(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.size})),ls=l.a.forwardRef((function(e,t){return l.a.createElement(os,Object.assign({size:30,color:"rgba(100, 65, 165, 0.3)",ref:t},e),l.a.createElement(os,{size:20,color:"rgba(100, 65, 165, 0.5)"}))})),cs={alignSelf:"center",borderRadius:25,boxShadow:"rgba(171, 171, 171, 0.38) 0px 13px 20px 0px",marginBottom:16},ss=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).recenterTourCircuit=function(){var e=i.state.currentStep;i.props.run&&(e<3||(0,i.props.recenterCircuit)())},i.callback=function(e){var t=e.type,n=e.action,a=e.index,r=i.props,o=r.setTourRunning,l=r.loadCircuit,c=r.clearCircuit;t===Kc.b.STEP_AFTER&&(2===a&&n===Kc.a.NEXT&&l(),3===a&&n===Kc.a.PREV&&c(),i.setState({currentStep:a+(n===Kc.a.NEXT?1:-1)})),t!==Kc.b.TOUR_END&&n!==Kc.a.CLOSE||(c(),localStorage.setItem("tour-done",!0),o(!1),i.setState({currentStep:0}))},i.state={currentStep:0,steps:[{title:"Welcome!",content:l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("img",{src:"".concat("https://renato-bohler.github.io/logossim","/social.png"),alt:"logossim's logo",style:{width:300,height:158,alignSelf:"center"}}),l.a.createElement("p",null,"This is ",l.a.createElement("strong",null,"logossim"),": an open source digital logic simulator, built for the web and to be extensible."),l.a.createElement("p",null,"Would you like to take a quick tour?")),target:"body",placement:"center",showProgress:!1,disableOverlayClose:!1,locale:{skip:"No, thanks",next:"Yes, please!"}},{target:"#tour-circuit-area-wrapper",title:"This is the circuit workstation",content:l.a.createElement("p",null,"Here's where you are going to draw your circuits")},{target:"#component-select-button",title:"Adding components",content:l.a.createElement("span",null,l.a.createElement("p",null,"And you'll start by adding some components."),l.a.createElement("p",null,"You can do it by clicking on this button, then you'll see all available components, so you can create awesome circuits..."),l.a.createElement("p",null,l.a.createElement("strong",null,"Hint:")," use the",l.a.createElement(dc,{size:24},"CTRL"),l.a.createElement(dc,{size:24},"A")," shortcut.")),placement:"top"},{target:"#tour-circuit-wrapper",title:"Adding components",content:l.a.createElement("p",null,"... like this one, for example!"),spotlightPadding:30},{target:"#tour-circuit-wrapper",title:"Managing components",content:l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("p",null,"Notice that you can right click anywhere on the canvas to access some handy commands, like duplicate, undo & redo and component configuration editing."),l.a.createElement("img",{src:Jc.a,alt:"Context menu example video",style:Object(u.a)(Object(u.a)({},cs),{},{width:268,height:132})})),spotlightPadding:30},{target:'[data-linkid="clock-out-link"]',title:"Wiring components",content:l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("p",null,"To wire components together, you can drag a component's port onto another port."),l.a.createElement("img",{src:ts.a,alt:"Wiring components example video",style:Object(u.a)(Object(u.a)({},cs),{},{width:268,height:178})}),l.a.createElement("p",null,l.a.createElement("strong",null,"Oh! Important note:")," you can select a wire by clicking it, and delete it using the Delete key.")),placement:"top",spotlightPadding:45},{target:'[data-linkid="not-in-link"]',title:"Wiring components",content:l.a.createElement("span",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("p",null,"You can also drag a new wire from an existing wire."),l.a.createElement("img",{src:Gc.a,alt:"Bifurcating wires example video",style:Object(u.a)(Object(u.a)({},cs),{},{width:268,height:160})}),l.a.createElement("p",null,l.a.createElement("strong",null,"Another important note:")," you can leave the wire with a loose end and connect it afterwards.")),placement:"top",spotlightPadding:45},{target:"#simulation-control-buttons",title:"Simulation control",content:l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("p",null,"After wiring it all together, you just need to run the simulation to test your ideas!"),l.a.createElement("img",{src:$c.a,alt:"Simulation execution example video",style:Object(u.a)(Object(u.a)({},cs),{},{width:254,height:194})}),l.a.createElement("p",null,"Useful shortcuts:"),l.a.createElement("ul",{style:{margin:0}},l.a.createElement("li",null,l.a.createElement("strong",null,"Play/pause:"),l.a.createElement(dc,{size:24},"SPACE")),l.a.createElement("li",null,l.a.createElement("strong",null,"Stop:"),l.a.createElement(dc,{size:24},"CTRL"),l.a.createElement(dc,{size:24},"SPACE")))),placement:"top"},{target:"#help-button",title:"Still need help?",content:l.a.createElement("span",null,l.a.createElement("p",null,"In case you need any assistance in the future, come back to this help button. Here you'll find:"),l.a.createElement("ol",{style:{lineHeight:"200%"}},l.a.createElement("li",null,"All keyboard shortcuts"),l.a.createElement("li",null,"More about the project"),l.a.createElement("li",null,"And this tour, if you feel like doing it another time")))},{target:"#save-load-buttons",title:"By the way...",content:l.a.createElement("span",null,l.a.createElement("p",null,"After you've done your amazing circuit, don't forget that you can save it and reload it later!"),l.a.createElement("p",null,"Useful shortcuts:"),l.a.createElement("ul",{style:{margin:0}},l.a.createElement("li",null,l.a.createElement("strong",null,"Save:"),l.a.createElement(dc,{size:24},"CTRL"),l.a.createElement(dc,{size:24},"S")),l.a.createElement("li",null,l.a.createElement("strong",null,"Load:"),l.a.createElement(dc,{size:24},"CTRL"),l.a.createElement(dc,{size:24},"L"))))},{target:"body",title:"And that's all folks!",content:l.a.createElement("div",null,l.a.createElement("p",null,"If you want to know more about the project,"," ",l.a.createElement("a",{href:"https://github.com/renato-bohler/logossim",target:"_blank",rel:"noopener noreferrer"},"check us out on GitHub!")),l.a.createElement(vc.a,{type:"stargazers",namespace:"renato-bohler",repo:"logossim"}),l.a.createElement("p",null,l.a.createElement("strong",null,"You can help us")," make logossim better! If you know a little bit of web development, you can quite easily develop new components to the application.")),placement:"center",showProgress:!1,showSkipButton:!1,disableOverlayClose:!1}]},i}return Object(g.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.recenterTourCircuit)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.recenterTourCircuit)}},{key:"render",value:function(){var e=this.state,t=e.steps,n=e.currentStep,i=this.props.run;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Kc.c,{run:i,steps:t,stepIndex:n,continuous:!0,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,disableOverlayClose:!0,styles:{tooltip:{borderRadius:10},tooltipContent:{fontSize:14,textAlign:"left"},buttonBack:{color:"black",fontSize:12},buttonNext:{background:"#6441a5",fontSize:12,borderRadius:5},buttonSkip:{color:"#6441a5",fontSize:12,border:"1px solid #6441a5",borderRadius:5}},locale:{back:"Back",close:"Close",last:"Got it!",next:"Next",open:"Open",skip:"Skip"},beaconComponent:ls,callback:this.callback}),l.a.createElement("div",{style:{display:i?"block":"none",position:"absolute",width:.75*window.innerWidth,height:.5*window.innerHeight,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},id:"tour-circuit-area-wrapper"}),l.a.createElement("div",{style:{display:i?"block":"none",position:"absolute",width:ns,height:is,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},id:"tour-circuit-wrapper"}))}}]),n}(o.Component),us=(n(526),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).areShortcutsAllowed=function(){var e=i.state,t=e.isComponentSelectOpen,n=e.isComponentEditOpen,a=e.isHelpKeyboardOpen,r=e.isHelpAboutOpen,o=e.isCircuitNameFocused,l=e.isTourRunning;return!(t||n||a||r||o||l)},i.shortcutHandler=function(e){var t=e.ctrlKey,n=e.shiftKey,a=e.code;if(i.areShortcutsAllowed()){if(t&&"KeyA"===a){if(e.preventDefault(),!i.simulation.isStopped())return;i.showAddComponent()}if(t&&"KeyE"===a){if(e.preventDefault(),!i.simulation.isStopped())return;var r=i.diagram.getSelectedNodes();if(1!==r.length)return;var o=r[0];i.showEditComponent(o)}t||"Space"!==a||(e.preventDefault(),i.simulation.isRunning()?i.handleClickPause():i.handleClickStart()),(t&&"Space"===a||"Escape"===a)&&(e.preventDefault(),i.simulation.isStopped()||i.handleClickStop()),t&&!n&&"KeyS"===a&&(e.preventDefault(),i.handleClickSave()),(t&&"KeyL"===a||t&&n&&"KeyS"===a)&&(e.preventDefault(),i.handleClickLoad())}},i.isCircuitEmpty=function(e){return!e||0===Object.keys(e.layers[1].models).length},i.loadFile=function(e){i.setState({circuitName:e.name,circuitCreatedAt:e.createdAt}),i.diagram.load(e.circuit)},i.loadExample=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({isLoadingExample:!0}),e.next=3,window.fetch("./examples/".concat(t,".lgsim"));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,i.loadFile(a),i.setState({isLoadingExample:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.loadHandler=function(){var e=JSON.parse(localStorage.getItem("circuit-autosave"));i.isCircuitEmpty(null===e||void 0===e?void 0:e.circuit)?i.setState({isTourAvailable:!0}):window.confirm("Reload last unsaved circuit?")?i.loadFile(e):(i.setState({isTourAvailable:!0}),localStorage.removeItem("circuit-autosave"))},i.shouldWarnUnload=function(e,t){return!i.isCircuitEmpty(e)&&JSON.stringify(t.layers)!==JSON.stringify(e.layers)},i.unloadHandler=function(e){var t=JSON.parse(localStorage.getItem("last-saved-circuit")),n=i.generateFile();i.shouldWarnUnload(n.circuit,t.circuit)&&(i.simulation.isStopped()&&localStorage.setItem("circuit-autosave",JSON.stringify(n)),e.returnValue="You have unsaved changes. Sure you want to leave?")},i.generateFile=function(){var e=i.state,t=e.circuitName,n=e.circuitCreatedAt,a=i.diagram.serialize();return{id:a.id,name:t,createdAt:n||new Date,updatedAt:new Date,circuit:a}},i.autoSave=function(){var e=i.generateFile();"tour-circuit"!==e.circuit.id&&(i.isCircuitEmpty(e.circuit)||i.simulation.isStopped()&&localStorage.setItem("circuit-autosave",JSON.stringify(e)))},i.synchronizeSimulation=function(){var e=i.simulation.getDiff();Object.entries(e.components).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return i.diagram.synchronizeComponent(n,a)})),Object.entries(e.links).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return i.diagram.synchronizeLink(n,a)})),i.simulation.clearDiff(),i.diagram.repaint()},i.renderSimulation=function(){i.simulation.isRunning()&&(i.synchronizeSimulation(),requestAnimationFrame(i.renderSimulation))},i.handleCircuitNameChange=function(e){e.stopPropagation(),e.preventDefault(),i.setState({circuitName:e.target.value})},i.handleCircuitNameFocus=function(e){i.setState({isCircuitNameFocused:!0}),"Untitled circuit"===e.target.value&&e.target.select()},i.handleCircuitNameBlur=function(){return i.setState({isCircuitNameFocused:!1})},i.handleClickSave=function(){i.state.circuitCreatedAt||i.setState({circuitCreatedAt:new Date});var e=JSON.stringify(i.generateFile(),null,2),t=new Blob([e],{type:"application/json"}),n=i.state.circuitName.replace(/[/|\\:*?"<>]/g,"");localStorage.setItem("last-saved-circuit",e),$o.a.saveAs(t,"".concat(n,".lgsim"))},i.handleClickLoad=function(){return document.getElementById("file-input").click()},i.handleFileLoad=function(e){var t=e.target.files;if(1===t.length){var n=function(){return i.showSnackbar("Error loading circuit file:\n".concat(t[0].name))},a=new FileReader;a.onerror=n,a.onload=function(e){try{var t=JSON.parse(e.target.result);i.loadFile(t)}catch(a){n()}},a.readAsText(t.item(0))}},i.handleClickStart=function(){var e=JSON.stringify(i.diagram.serialize());localStorage.setItem("circuit-autosave",e),i.diagram.clearSelection(),i.diagram.setLocked(!0),i.simulation.start(i.diagram.getModel()),i.renderSimulation(),i.forceUpdate()},i.handleClickPause=function(){i.simulation.pause(),i.forceUpdate()},i.handleClickStop=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.simulation.stop();case 2:i.diagram.clearAllValues(),i.diagram.setLocked(!1),i.forceUpdate(),i.simulation.clearDiff();case 6:case"end":return e.stop()}}),e)}))),i.showAddComponent=function(){return i.setState({isComponentSelectOpen:!0})},i.hideAddComponent=function(){return i.setState({isComponentSelectOpen:!1})},i.showEditComponent=function(e){i.diagram.clearSelection(),i.setState({isComponentEditOpen:!0,componentEdit:e})},i.hideEditComponent=function(){return i.setState({isComponentEditOpen:!1,componentEdit:null})},i.setTourRunning=function(e){return i.setState({isTourRunning:e})},i.showHelpTour=function(){return i.setTourRunning(!0)},i.showHelpKeyboard=function(){return i.setState({isHelpKeyboardOpen:!0})},i.hideHelpKeyboard=function(){return i.setState({isHelpKeyboardOpen:!1})},i.showHelpAbout=function(){return i.setState({isHelpAboutOpen:!0})},i.hideHelpAbout=function(){return i.setState({isHelpAboutOpen:!1})},i.showSnackbar=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,r,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"error",a=i.state.snackbar,r=3e3+50*t.split(" ").length,!a.open){e.next=8;break}return clearTimeout(a.timeoutID),i.hideSnackbar(),e.next=8,new Promise((function(e){return setTimeout(e,500)}));case 8:i.setState({snackbar:{open:!0,message:t,type:n,timeout:r,timeoutID:setTimeout(i.hideSnackbar,r)}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.hideSnackbar=function(){var e=i.state.snackbar;clearTimeout(e.timeoutID),i.setState((function(e){return{snackbar:Object(u.a)(Object(u.a)({},e.snackbar),{},{open:!1})}}))},i.handleLoadTourCircuit=function(){i.circuitBeforeTour=i.generateFile(),i.loadFile(as),i.handleCenterTourCircuitOffset()},i.handleUnloadTourCircuit=function(){i.circuitBeforeTour&&(i.loadFile(i.circuitBeforeTour),i.circuitBeforeTour=null)},i.handleCenterTourCircuitOffset=function(){i.diagram.getModel().setOffset((window.innerWidth-ns)/2,(window.innerHeight-is)/2),i.diagram.realignGrid(),i.diagram.repaint()},i.state={isComponentSelectOpen:!1,isComponentEditOpen:!1,isHelpKeyboardOpen:!1,isHelpAboutOpen:!1,componentEdit:null,isTourAvailable:!1,isTourRunning:!JSON.parse(localStorage.getItem("tour-done")),circuitName:"Untitled circuit",circuitCreatedAt:null,isCircuitNameFocused:!1,isLoadingExample:!1,snackbar:{open:!1,message:"",type:"success",timeout:0,timeoutID:null}},i.diagram=new Fe(qo,i.areShortcutsAllowed,i.showSnackbar),i.simulation=new J(qo),i}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search).get("example");null===e?window.addEventListener("load",this.loadHandler):this.loadExample(e),window.addEventListener("keydown",this.shortcutHandler),window.addEventListener("beforeunload",this.unloadHandler),this.autoSaveInterval=setInterval(this.autoSave,15e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.shortcutHandler),window.addEventListener("load",this.loadHandler),window.removeEventListener("beforeunload",this.unloadHandler),clearInterval(this.autoSaveInterval)}},{key:"render",value:function(){var e=this.state,t=e.isComponentSelectOpen,n=e.isComponentEditOpen,i=e.isHelpKeyboardOpen,a=e.isHelpAboutOpen,r=e.componentEdit,o=e.isTourAvailable,c=e.isTourRunning,s=e.circuitName,u=e.isCircuitNameFocused,d=e.isLoadingExample,p=e.snackbar;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Xc,{circuitName:s,isCircuitNameFocused:u,handleChangeCircuitName:this.handleCircuitNameChange,handleFocusCircuitName:this.handleCircuitNameFocus,handleBlurCircuitName:this.handleCircuitNameBlur,handleClickSave:this.handleClickSave,handleFileLoad:this.handleFileLoad,handleClickKeyboardShortcuts:this.showHelpKeyboard,handleClickRedoTour:this.showHelpTour,handleClickAbout:this.showHelpAbout,disabled:!this.simulation.isStopped()}),l.a.createElement(Ol,{state:this.simulation.getState(),handleClickStart:this.handleClickStart,handleClickPause:this.handleClickPause,handleClickStop:this.handleClickStop}),l.a.createElement(nl,{handleClick:this.showAddComponent,disabled:!this.simulation.isStopped()}),l.a.createElement(sc,{isOpen:t,groups:Jo,handleClose:this.hideAddComponent,handleComponentDrop:this.diagram.handleComponentDrop}),l.a.createElement(Gl,{isOpen:n,components:qo,component:r,handleClose:this.hideEditComponent,handleComponentEdit:this.diagram.handleComponentEdit}),l.a.createElement(jc,{isOpen:i,handleClose:this.hideHelpKeyboard}),l.a.createElement(kc,{isOpen:a,handleClose:this.hideHelpAbout}),o&&l.a.createElement(ss,{run:c,setTourRunning:this.setTourRunning,loadCircuit:this.handleLoadTourCircuit,clearCircuit:this.handleUnloadTourCircuit,recenterCircuit:this.handleCenterTourCircuitOffset}),d&&l.a.createElement(Cc,null),l.a.createElement(ue,{engine:this.diagram}),l.a.createElement(gc,{duplicateSelected:this.diagram.duplicateSelected,cutSelected:this.diagram.cutSelected,copySelected:this.diagram.copySelected,pasteSelected:this.diagram.pasteSelected,deleteSelected:this.diagram.deleteSelected,undo:this.diagram.undo,redo:this.diagram.redo,zoomIn:this.diagram.zoomIn,zoomOut:this.diagram.zoomOut,configureComponent:this.showEditComponent}),l.a.createElement(y.a,{id:"tooltip",globalEventOff:"click"}),l.a.createElement(Ic,{open:p.open,type:p.type,message:p.message,timeout:p.timeout,handleClose:this.hideSnackbar}))}}]),n}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Array.prototype.asArray=function(){return this},Array.prototype.asNumber=function(){if(this.some((function(e){return"e"===e})))return"e";if(this.some((function(e){return"x"===e})))return"x";if(this.some((function(e){return 0!==e&&1!==e})))throw new Error("[logossim] Array cannot be converted to number because it contains invalid values");return this.slice().reverse().reduce((function(e,t,n){return e+t*Math.pow(2,n)}),0)},Array.prototype.transpose=function(){var e=this;return this[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},Number.prototype.asNumber=function(){return Number(this)},Number.prototype.asArray=function(e){if(!e)throw new Error("[logossim] To transform a number to array, you need to pass as argument the length of the array");var t=Object(E.a)(this.toString(2)).map(Number);return Array(e).fill(0).concat(t).slice(t.length)},String.prototype.asArray=function(e){if(!e)throw new Error("[logossim] To transform a number to array, you need to pass as argument the length of the array");return Object(E.a)(this.padStart(e,0)).map((function(e){return"0"===e?0:"1"===e?1:e}))},String.prototype.parseBinary=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)throw new Error("[logossim] To parse a binary, you need to pass the value length in bits as first argument.");if(!t)throw new Error("[logossim] To parse a binary, you need to pass the result array length as second argument.");var i=/[^01]/g,a=new RegExp(".{1,".concat(e,"}"),"g"),r=(this.replace(i,"").match(a)||[]).map((function(e){return parseInt(e,2)}));return Array(t).fill(n).map((function(e,t){var n=r[t];return n||e}))},s.a.render(l.a.createElement(us,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[277,1,2]]]);
//# sourceMappingURL=main.f5fceb1c.chunk.js.map